{"componentChunkName":"component---node-modules-gatsby-theme-blog-core-src-templates-post-query-js","path":"/react-query-ssr/","result":{"data":{"site":{"siteMetadata":{"title":"Seonghyeon kim","social":[{"name":"twitter","url":"https://twitter.com/seonghyeon___"},{"name":"github","url":"https://github.com/seonghyeonkimm"}]}},"blogPost":{"__typename":"MdxBlogPost","id":"5fc2e2cf-c09d-52cd-ba52-2a05ea1b1b4e","excerpt":"react 18과 react-query의 suspense mode를 nextjs환경에서 사용하면서 겪었던 엣지 케이스에 대해서 정리했습니다.","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"react v18, nextjs, (suspense mode) react-query 엣지 케이스\",\n  \"date\": \"2021-12-11T00:00:00.000Z\",\n  \"excerpt\": \"react 18과 react-query의 suspense mode를 nextjs환경에서 사용하면서 겪었던 엣지 케이스에 대해서 정리했습니다.\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"nextjs, react@next, react-dom@next, react-query\\uC758 suspense mode\\uB97C \\uAC19\\uC774 \\uC0AC\\uC6A9\\uD558\\uBA74\\uC11C \\uB2E4\\uC74C \\uC774\\uC288\\uB97C \\uACAA\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"server\\uC5D0\\uC11C page \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB97C render\\uD560 \\uB54C\\uC5D0 react-query useQuery\\uC758 queryFunction\\uC774 \\uC2E4\\uD589\\uB428.\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\uC6D0\\uB798 react-query\\uC758 useQuery\\uB294 useEffect\\uC548\\uC5D0\\uC11C queryFunction\\uC744 \\uC2E4\\uD589\\uC2DC\\uD0A4\\uAE30\\uB54C\\uBB38\\uC5D0 browser\\uD658\\uACBD\\uC5D0\\uC11C\\uB9CC \\uC2E4\\uD589\\uB418\\uC5B4\\uC57C\\uD558\\uB294\\uB370 (react-query\\uC758 suspense \\uC635\\uC158\\uC744 enabled\\uD558\\uBA74) suspense for data fetching\\uC758 \\uD2B9\\uC131\\uC0C1 \\uBE0C\\uB77C\\uC6B0\\uC800\\uB098 \\uC11C\\uBC84\\uC640 \\uAC19\\uC740 \\uD658\\uACBD\\uACFC \\uC0C1\\uAD00\\uC5C6\\uC774 render\\uC640 \\uB3D9\\uC2DC\\uC5D0 queryFunction\\uC774 \\uC2E4\\uD589\\uB418\\uAE30 \\uB54C\\uBB38\\uC5D0 \\uC704\\uC640 \\uAC19\\uC740 \\uC0C1\\uD669\\uC774 \\uBC1C\\uC0DD\\uD569\\uB2C8\\uB2E4.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"\\uADF8\\uB7F0\\uB370 page \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC758 useQuery\\uB294 jwt\\uAC00 \\uD544\\uC694\\uD55C api\\uB97C \\uBD80\\uB974\\uB294 hook\\uC774\\uC5C8\\uACE0 server request\\uC5D0 \\uC811\\uADFC\\uD560 \\uC218 \\uC5C6\\uAE30 \\uB54C\\uBB38\\uC5D0 cookie\\uC5D0 \\uC811\\uADFC\\uD560 \\uC218 \\uC5C6\\uACE0 jwt\\uB97C \\uC5BB\\uC744 \\uC218 \\uC5C6\\uAE30 \\uB54C\\uBB38\\uC5D0 \\uBB34\\uC870\\uAC74 error\\uB97C \\uB0BC \\uC218 \\uBC16\\uC5D0 \\uC5C6\\uC5C8\\uC2B5\\uB2C8\\uB2E4. \\uADF8\\uB798\\uC11C useQuery\\uAC00 \\uC11C\\uBC84\\uC5D0\\uC11C\\uB294 \\uC2E4\\uD589\\uC774 \\uC548\\uB418\\uC5C8\\uC73C\\uBA74 \\uD588\\uB294\\uB370\\uC694. \\uB610, server\\uC5D0\\uC11C \\uBBF8\\uB9AC \\uD574\\uB2F9 queryKey\\uC758 data\\uB97C prefetch\\uD558\\uAE30 \\uB54C\\uBB38\\uC5D0 \\uC2E4\\uC81C\\uB85C client\\uC5D0\\uC11C page\\uAC00 render\\uB420 \\uB54C\\uC5D0\\uB294 \\uB370\\uC774\\uD130\\uAC00 \\uC788\\uC744 \\uAC74\\uB370, \\uC11C\\uBC84\\uC5D0\\uC11C \\uBD88\\uD544\\uC694\\uD558\\uAC8C useQuery\\uC758 queryFunction\\uC744 \\uC2E4\\uD589\\uC2DC\\uD0A4\\uB294 \\uAC83\\uC744 \\uB9C9\\uACE0 \\uC2F6\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\")), mdx(\"ol\", {\n    \"start\": 2\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\uADF8\\uB798\\uC11C \\uC81C\\uAC00 \\uB55C\\uBE75(?)\\uC73C\\uB85C \\uCDE8\\uD55C \\uC811\\uADFC\\uC740 \\uC544\\uB798\\uC640 \\uAC19\\uC774 useQuery\\uB97C server\\uC5D0\\uC11C\\uB294 \\uC131\\uACF5\\uD55C \\uAC83\\uCC98\\uB7FC if\\uBB38\\uC744 \\uCD94\\uAC00\\uD588\\uC2B5\\uB2C8\\uB2E4.\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"function useMyQuery(queryKey, queryFn) {\\n  return useQuery(queryKey, async () => {\\n    if (typeof window === 'undefined') {\\n      return {};\\n    }\\n\\n    const result = await queryFn();\\n    return result;\\n  }\\n};\\n\")), mdx(\"ol\", {\n    \"start\": 3\n  }, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\uADF8\\uB7F0\\uB370 \\uC774 \\uC811\\uADFC\\uC774 \\uBB54\\uAC00 \\uB9C8\\uC74C\\uC5D0 \\uB4E4\\uC9C0 \\uC54A\\uC544\\uC11C \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://github.com/tannerlinsley/react-query/discussions/3030\"\n  }), \"react-query repository discussion\"), \"\\uC5D0 \\uC62C\\uB824\\uC11C contributor\\uB4E4\\uC5D0\\uAC8C \\uC758\\uACAC\\uC744 \\uAD6C\\uD574\\uBD24\\uB294\\uB370\\uC694.\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"\\uB2F5\\uBCC0\\uC73C\\uB85C \\uC544\\uC9C1 React 18\\uC774 \\uACF5\\uC2DD\\uC801\\uC73C\\uB85C \\uB098\\uC624\\uC9C4 \\uC54A\\uC558\\uACE0 react-query\\uAC00 \\uC774 \\uBD80\\uBD84\\uC5D0 \\uB300\\uD55C \\uB300\\uC751\\uC744 \\uC544\\uC9C1 \\uD558\\uC9C0 \\uC54A\\uC740 \\uC0C1\\uD669\\uC774\\uB77C\\uB294 \\uB300\\uB2F5\\uB9CC \\uC5BB\\uC5C8\\uC2B5\\uB2C8\\uB2E4. \\uADF8\\uB798\\uC11C \\uC9C0\\uAE08\\uC740 \\uC6B0\\uC120 \\uC81C\\uAC00 \\uD55C \\uBC29\\uBC95\\uC774 \\uC5B4\\uB5BB\\uAC8C\\uB4E0 \\uC791\\uB3D9\\uD558\\uAC8C \\uD560 \\uC218 \\uC788\\uAC8C \\uD558\\uB294 \\uBC29\\uBC95\\uC73C\\uB85C \\uC0DD\\uAC01\\uD558\\uACE0 \\uC720\\uC9C0\\uD574\\uC57C \\uB420 \\uAC83 \\uAC19\\uB2E4\\uB294 \\uACB0\\uB860\\uC5D0 \\uB3C4\\uB2EC\\uD588\\uC2B5\\uB2C8\\uB2E4.\")), mdx(\"p\", null, \"\\uC774\\uB807\\uAC8C \\uAD6C\\uAD6C\\uC808\\uC808 \\uC801\\uC740 \\uC774\\uC720\\uB294 react-query\\uC5D0 \\uB300\\uD574\\uC11C \\uC870\\uAE08 \\uB354 \\uC54C\\uAC8C \\uB41C \\uBD80\\uBD84(queryFunction\\uC774 \\uC5B4\\uB5BB\\uAC8C \\uC2E4\\uD589\\uB418\\uB294\\uC9C0 \\uADF8\\uB9AC\\uACE0 suspense option\\uC774 true\\uC77C \\uB54C \\uC5B4\\uB5BB\\uAC8C \\uC2E4\\uD589\\uB418\\uB294\\uC9C0\\uC640 \\uAC19\\uC740 \\uB0B4\\uC6A9)\\uC744 \\uACF5\\uC720\\uD558\\uACE0 \\uC2F6\\uC5C8\\uACE0,\\ndiscussion\\uC5D0\\uC11C \\uC9E7\\uC740 \\uB17C\\uC758\\uC600\\uC9C0\\uB9CC contributor\\uB4E4\\uACFC \\uB300\\uD654\\uB97C \\uB098\\uB204\\uB294 \\uACBD\\uD5D8\\uC774 \\uC7AC\\uBC0C\\uC5C8\\uACE0, contributors\\uB4E4\\uC774 \\uC774 \\uAE30\\uB2A5\\uC740 \\uB098\\uC911\\uC5D0 React 18\\uC774 \\uC815\\uC2DD\\uC73C\\uB85C \\uB098\\uC624\\uBA74 ssr\\uD658\\uACBD\\uC5D0\\uC11C react-query \\uCC28\\uC6D0\\uC5D0\\uC11C \\uC9C0\\uC6D0\\uC774 \\uB418\\uC5B4\\uC57C\\uD560 \\uCF00\\uC774\\uC2A4\\uC778 \\uAC83 \\uAC19\\uB2E4\\uACE0\\n\\uCE5C\\uC808\\uD558\\uAC8C \\uB2F5\\uBCC0\\uD574\\uC900 \\uC810\\uB3C4 \\uD765\\uBBF8\\uB85C\\uC6CC\\uC11C \\uACB8\\uC0AC\\uACB8\\uC0AC \\uB178\\uD2B8\\uB97C \\uB0A8\\uACA8 \\uBCF4\\uC558\\uC2B5\\uB2C8\\uB2E4.\"));\n}\n;\nMDXContent.isMDXComponent = true;","slug":"/react-query-ssr/","title":"react v18, nextjs, (suspense mode) react-query 엣지 케이스","tags":[],"keywords":[],"date":"December 11, 2021","image":null,"imageAlt":null,"socialImage":null},"previous":{"__typename":"MdxBlogPost","id":"765cb1e3-b9a0-5553-859d-2fad734f1be9","excerpt":"2020년 반이 지나간 자리에 어떤 것이 남아 있는가","slug":"/2020-self-retrospection/","title":"2020년 반이 지나간 자리","date":"July 05, 2020"},"next":null},"pageContext":{"id":"5fc2e2cf-c09d-52cd-ba52-2a05ea1b1b4e","previousId":"765cb1e3-b9a0-5553-859d-2fad734f1be9"}}}