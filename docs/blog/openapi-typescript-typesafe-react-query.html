<!DOCTYPE html><html lang="ko" class="scroll-smooth"><head><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><meta content="width=device-width, initial-scale=1" name="viewport"/><title>openapi 스펙을 활용해서 type-safe하게 react-query 사용하기</title><meta name="robots" content="follow, index"/><meta name="description" content="ReactQuery를 openapi-typescript를 활용해서 typesafe하게 활용해본 경험을 작성했습니다."/><meta property="og:url" content="https://seonghyeonkimm.github.io//blog/openapi-typescript-typesafe-react-query"/><meta property="og:type" content="article"/><meta property="og:site_name" content="Seonghyeon Kim"/><meta property="og:description" content="ReactQuery를 openapi-typescript를 활용해서 typesafe하게 활용해본 경험을 작성했습니다."/><meta property="og:title" content="openapi 스펙을 활용해서 type-safe하게 react-query 사용하기"/><meta property="og:image" content="https://seonghyeonkimm.github.io//static/images/og-card.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="https://twitter.com/seonghyeon___"/><meta name="twitter:title" content="openapi 스펙을 활용해서 type-safe하게 react-query 사용하기"/><meta name="twitter:description" content="ReactQuery를 openapi-typescript를 활용해서 typesafe하게 활용해본 경험을 작성했습니다."/><meta name="twitter:image" content="https://seonghyeonkimm.github.io//static/images/og-card.png"/><link rel="canonical" href="https://seonghyeonkimm.github.io//blog/openapi-typescript-typesafe-react-query"/><meta property="article:published_time" content="2022-02-20T00:00:00.000Z"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://seonghyeonkimm.github.io//blog/openapi-typescript-typesafe-react-query"
  },
  "headline": "openapi 스펙을 활용해서 type-safe하게 react-query 사용하기",
  "image": [
    {
      "@type": "ImageObject",
      "url": "https://seonghyeonkimm.github.io//static/images/og-card.png"
    }
  ],
  "datePublished": "2022-02-20T00:00:00.000Z",
  "dateModified": "2022-02-20T00:00:00.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "Seonghyeon Kim"
    }
  ],
  "publisher": {
    "@type": "Organization",
    "name": "Seonghyeon Kim",
    "logo": {
      "@type": "ImageObject",
      "url": "https://seonghyeonkimm.github.io//static/images/logo.png"
    }
  },
  "description": "ReactQuery를 openapi-typescript를 활용해서 typesafe하게 활용해본 경험을 작성했습니다."
}</script><meta name="next-head-count" content="20"/><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" content="#000000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="preload" href="/_next/static/css/5c1d8cd1341f58de.css" as="style"/><link rel="stylesheet" href="/_next/static/css/5c1d8cd1341f58de.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-93ab09065b693022.js" defer=""></script><script src="/_next/static/chunks/main-4ef043329e44a116.js" defer=""></script><script src="/_next/static/chunks/pages/_app-9fa3df12dcb4989b.js" defer=""></script><script src="/_next/static/chunks/170-510ab59698f42a3e.js" defer=""></script><script src="/_next/static/chunks/913-bac8caff02c611c0.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slug%5D-0051806e725ec9a7.js" defer=""></script><script src="/_next/static/oL9nDpTRuQZFnDP3nk56S/_buildManifest.js" defer=""></script><script src="/_next/static/oL9nDpTRuQZFnDP3nk56S/_ssgManifest.js" defer=""></script><script src="/_next/static/oL9nDpTRuQZFnDP3nk56S/_middlewareManifest.js" defer=""></script></head><body class="bg-white text-black antialiased dark:bg-gray-900 dark:text-white"><div id="__next" data-reactroot=""><noscript><iframe title="gtm-iframe" height="0" width="0" style="display:none;visibility:hidden" src="https://www.googletagmanager.com/ns.html?id=GTM-KJNTQFR"></iframe></noscript><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="flex h-screen flex-col justify-between"><header class="flex items-center justify-between py-10"><div><a aria-label="Seonghyeon Kim" href="/"><div class="flex items-center justify-between"><div class="mr-3"><svg id="logo_svg__Layer_1" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 500 500" style="width:40px" xml:space="preserve"><style>.logo_svg__st0{fill:#fddf7f}</style><path class="logo_svg__st0" d="M198.709 105.373c-17.072-14.62-38.245-23.682-60.489-26.019-13.531 18.706-20.964 41.345-21.033 64.58 18.434 3.538 36.401 10.112 53.087 19.749 5.726-21.38 15.5-41.1 28.435-58.31zM382.812 143.934c-.069-23.235-7.501-45.874-21.032-64.58-22.243 2.337-43.417 11.399-60.489 26.019 12.935 17.21 22.709 36.93 28.435 58.31 16.686-9.636 34.652-16.211 53.086-19.749z"></path><path d="M495 348.043c-17.119-17.913-44.733-31.678-77.75-38.222-.668.69-1.32 1.39-2.002 2.072-44.773 44.773-108.176 59.496-165.248 44.266-57.072 15.23-120.475.508-165.248-44.265-.682-.682-1.335-1.381-2.002-2.072C49.733 316.365 22.118 330.13 5 348.043c18.346 19.199 48.743 33.641 84.931 39.527l.003-.003c-18.748 19.667-23.392 42.912-13.942 64.358 36.183 5.848 75.468 2.785 108.382-9.195 9.478 22.282 33.522 41.018 65.627 52.269 32.103-11.251 56.146-29.987 65.625-52.269 32.914 11.98 72.199 15.042 108.382 9.195 9.45-21.445 4.806-44.689-13.939-64.355 36.187-5.886 66.585-20.328 84.931-39.527z" style="fill:#83e1e5"></path><path d="M459.514 146.645c-43.251-11.542-90.13-5.865-129.788 17.038-11.847-44.238-40.982-81.4-79.726-103.822-38.744 22.421-67.878 59.584-79.726 103.822-39.659-22.904-86.537-28.58-129.788-17.038-15.23 57.072-.507 120.476 44.266 165.249C129.525 356.667 192.928 371.39 250 356.159c57.073 15.23 120.475.508 165.248-44.265 44.773-44.774 59.496-108.177 44.266-165.249z" style="fill:#ecf4f7"></path><path d="M234.025 15.975a5 5 0 0 1 5-5H245V5a5 5 0 1 1 10 0v5.975h5.975a5 5 0 1 1 0 10H255v5.975a5 5 0 1 1-10 0v-5.975h-5.975a5 5 0 0 1-5-5zM410.067 101h5.975v5.975a5 5 0 1 0 10 0V101h5.975a5 5 0 1 0 0-10h-5.975v-5.975a5 5 0 1 0-10 0V91h-5.975a5 5 0 1 0 0 10zm-342.084 0h5.975v5.975a5 5 0 1 0 10 0V101h5.975a5 5 0 1 0 0-10h-5.975v-5.975a5 5 0 1 0-10 0V91h-5.975a5 5 0 1 0 0 10zm430.632 243.589c-12.936-13.536-31.514-24.768-53.727-32.479a5 5 0 1 0-3.279 9.447c18.763 6.514 34.649 15.62 46.278 26.486-17.569 16.395-44.874 28.68-76.082 34.16a101.977 101.977 0 0 0-5.846-5.353l-.12-.101a110.401 110.401 0 0 0-2.707-2.215l-.37-.285a114.661 114.661 0 0 0-2.603-1.99c-.162-.12-.328-.239-.495-.357l-.291-.209a129.206 129.206 0 0 0-2.33-1.666c-.33-.228-.669-.453-1.007-.678l-.951-.638c-.435-.293-.868-.587-1.312-.874a132.33 132.33 0 0 0-3.43-2.149 5 5 0 1 0-5.179 8.554c1.08.654 2.137 1.317 3.175 1.99.389.251.765.506 1.142.761l1.025.688c.285.189.57.378.846.568.729.504 1.433 1.016 2.133 1.525l.727.522c.809.599 1.597 1.205 2.373 1.815l.34.262c.842.666 1.661 1.338 2.432 1.988l.142.119c2.479 2.1 4.818 4.3 6.952 6.538 16.455 17.264 21.374 37.193 14.01 56.395-33.207 4.92-68.602 2.104-98.38-7.753 3.429-10.789 3.701-22.676.694-34.022-2.705-10.212-8.027-19.674-15.39-27.363a5 5 0 0 0-7.222 6.916c6.196 6.47 10.673 14.426 12.946 23.008 2.914 10.999 2.174 22.566-2.083 32.572-8.596 20.203-30.787 37.971-61.024 48.919-11.477-4.153-21.839-9.284-30.822-15.263-11.502-7.656-20.311-16.372-26.18-25.905-7.568-12.292-9.81-26.277-6.311-39.377 2.301-8.616 6.985-16.999 13.548-24.243a5.001 5.001 0 0 0-7.411-6.714c-7.627 8.418-13.09 18.23-15.8 28.377-2.91 10.899-2.544 22.265.931 33.082-29.787 9.867-65.199 12.687-98.417 7.766-7.364-19.204-2.444-39.134 14.014-56.398a90.16 90.16 0 0 1 6.942-6.53c.023-.019.102-.083.124-.103.8-.675 1.617-1.346 2.458-2.011l.337-.26c.776-.61 1.564-1.216 2.374-1.815l.722-.518c.704-.513 1.408-1.024 2.135-1.527.277-.192.563-.381.848-.57l1.025-.688c.377-.255.753-.51 1.145-.763 1.035-.67 2.092-1.333 3.172-1.988a5 5 0 1 0-5.179-8.554 132.424 132.424 0 0 0-3.427 2.147c-.446.289-.88.582-1.314.875l-.951.638c-.338.225-.677.45-1.009.68-.793.549-1.562 1.106-2.332 1.667l-.287.206c-.167.118-.333.237-.494.356-.889.657-1.753 1.322-2.604 1.991l-.368.284a106.82 106.82 0 0 0-2.688 2.2l-.145.121a101.933 101.933 0 0 0-5.841 5.349c-31.21-5.48-58.514-17.764-76.083-34.16 11.688-10.923 27.661-20.065 46.529-26.587a5 5 0 0 0-3.267-9.451c-22.323 7.717-40.992 18.985-53.989 32.585a5 5 0 0 0 0 6.909c17.971 18.805 45.835 32.639 79.096 39.418-14.979 19.419-18.338 41.978-9.063 63.025a5 5 0 0 0 3.777 2.92c12.103 1.956 24.518 2.918 36.901 2.918 24.243 0 48.354-3.692 69.695-10.851a66.464 66.464 0 0 0 2.693 4.838c6.632 10.772 16.44 20.524 29.154 28.987 10.108 6.728 21.786 12.435 34.71 16.964a4.984 4.984 0 0 0 3.306 0c31.649-11.092 55.604-29.436 66.577-50.783 21.336 7.154 45.436 10.844 69.673 10.844 12.382 0 24.802-.963 36.901-2.918a4.997 4.997 0 0 0 3.777-2.92c9.276-21.05 5.915-43.612-9.069-63.033 32.908-6.767 61.408-20.896 79.102-39.41a5 5 0 0 0-.002-6.908zm-337.38-111.442a5 5 0 1 0 9.898-1.419 161.813 161.813 0 0 1-.504-3.841 5.001 5.001 0 0 0-9.93 1.186c.164 1.364.342 2.721.536 4.074zM35.276 235.13c-7.582-29.39-7.451-60.434.379-89.775a5.002 5.002 0 0 1 3.542-3.542c23.935-6.387 48.959-7.543 73.177-3.723 1.208-22.049 8.832-43.748 21.794-61.666a4.993 4.993 0 0 1 4.573-2.042c21.717 2.282 42.056 10.519 59.154 23.884 13.698-17.139 30.524-31.693 49.6-42.732a5.001 5.001 0 0 1 5.008 0c19.076 11.039 35.901 25.593 49.6 42.732 17.099-13.365 37.438-21.602 59.154-23.884a4.997 4.997 0 0 1 4.573 2.042c12.962 17.918 20.587 39.617 21.794 61.666 24.218-3.82 49.242-2.664 73.177 3.724a5.002 5.002 0 0 1 3.542 3.542c7.83 29.341 7.961 60.385.379 89.775-7.814 30.292-23.701 58.06-45.94 80.299s-50.006 38.125-80.298 45.939a176.8 176.8 0 0 1-44.155 5.592c-14.912 0-29.82-1.895-44.33-5.649a177.056 177.056 0 0 1-44.33 5.649 176.794 176.794 0 0 1-44.155-5.592c-30.292-7.814-58.059-23.7-80.298-45.939s-38.125-50.007-45.94-80.3zm300.226-68.955a176.425 176.425 0 0 1 5.046 41.835c0 31.451-8.401 62.318-24.295 89.264-13.342 22.619-31.648 42.021-53.363 56.695 53.774 10.277 109.868-6.657 148.823-45.611 41.08-41.08 57.683-101.227 43.695-157.607-40.309-9.99-83.636-4.407-119.906 15.424zm-27.378-59.925c2.875 4.047 5.6 8.207 8.129 12.495a174.86 174.86 0 0 1 16.542 37.543c14.175-7.498 29.323-12.967 44.927-16.34-.823-19.629-7.241-39.018-18.317-55.277-18.809 2.494-36.395 9.906-51.281 21.579zm-185.845 33.699c15.604 3.373 30.751 8.842 44.927 16.34a174.86 174.86 0 0 1 16.542-37.543 175.826 175.826 0 0 1 8.129-12.495c-14.887-11.673-32.472-19.086-51.281-21.579-11.076 16.259-17.494 35.648-18.317 55.277zM88.287 308.358c38.957 38.955 95.05 55.889 148.825 45.61-36.532-24.701-62.853-62.517-72.971-105.442a5 5 0 1 1 9.733-2.294c10.204 43.286 37.877 81.077 76.126 104.12 49.758-29.976 80.548-84.246 80.548-142.342 0-58.096-30.79-112.366-80.548-142.342-49.758 29.976-80.548 84.246-80.548 142.342a5 5 0 1 1-10 0c0-14.167 1.72-28.211 5.046-41.835-36.271-19.831-79.594-25.414-119.906-15.424-13.988 56.38 2.615 116.527 43.695 157.607z" style="fill:#1c1d21"></path></svg></div><div class="hidden h-6 text-2xl font-semibold sm:block">Seonghyeon Kim</div></div></a></div><div class="flex items-center text-base leading-5"><div class="hidden sm:block"><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/blog">Blog</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/tags">Tags</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/about">About</a></div><button aria-label="Toggle Dark Mode" type="button" class="ml-1 mr-1 h-8 w-8 rounded p-1 sm:ml-4"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button><div class="sm:hidden"><button type="button" class="ml-1 mr-1 h-8 w-8 rounded py-1" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed top-24 right-0 z-10 h-full w-full transform bg-gray-200 opacity-95 duration-300 ease-in-out dark:bg-gray-800 translate-x-full"><button type="button" aria-label="toggle modal" class="fixed h-full w-full cursor-auto focus:outline-none"></button><nav class="fixed mt-8 h-full"><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/blog">Blog</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tags">Tags</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/about">About</a></div></nav></div></div></div></header><main class="mb-auto"><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="fixed right-8 bottom-8 hidden flex-col gap-3 md:hidden"><button aria-label="Scroll To Comment" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"></path></svg></button><button aria-label="Scroll To Top" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><article><div class="xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700"><header class="pt-6 xl:pb-6"><div class="space-y-1 text-center"><dl class="space-y-10"><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"><time dateTime="2022-02-20T00:00:00.000Z">2022년 2월 20일 일요일</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">openapi 스펙을 활용해서 type-safe하게 react-query 사용하기</h1></div></div></header><div class="divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:grid xl:grid-cols-4 xl:gap-x-6 xl:divide-y-0" style="grid-template-rows:auto 1fr"><dl class="pt-6 pb-10 xl:border-b xl:border-gray-200 xl:pt-11 xl:dark:border-gray-700"><dt class="sr-only">Authors</dt><dd><ul class="flex justify-center space-x-8 sm:space-x-12 xl:block xl:space-x-0 xl:space-y-8"><li class="flex items-center space-x-2"><img src="/static/images/avatar.png" width="38px" height="38px" alt="avatar" class="h-10 w-10 rounded-full"/><dl class="whitespace-nowrap text-sm font-medium leading-5"><dt class="sr-only">Name</dt><dd class="text-gray-900 dark:text-gray-100">Seonghyeon Kim</dd><dt class="sr-only">Twitter</dt><dd><a target="_blank" rel="noopener noreferrer" href="https://twitter.com/seonghyeon___" class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400">@seonghyeon___</a></dd></dl></li></ul></dd></dl><div class="divide-y divide-gray-200 dark:divide-gray-700 xl:col-span-3 xl:row-span-2 xl:pb-0"><div class="prose max-w-none pt-10 pb-8 dark:prose-dark"><p> graphql 백엔드와 통신하면서 프론트 작업을 할 때에는 graphql-codegen 사용해서 graphql schema를 기준으로 types을 generate해서 사용했었습니다. 그래서 따로 parameters, body, 그리고 response에 대해서 type을 따로 신경쓸 필요 없었고 type-safe하게 작업할 수 있었습니다. 그런데 이번에 시작한 프로젝트에서는 graphql가 아닌 rest api로 구성되어있는 백엔드와 통신해야하는 상황이 생겼고, 직접 type들을 타이핑을 해야한다고 생각하니 그렇게 하기가 싫었습니다. (물론, <a target="_blank" rel="noopener noreferrer" href="https://marketplace.visualstudio.com/items?itemName=quicktype.quicktype">Paste JSON as Code</a>을 사용하면 조금 더 편하게 할 수 있긴 하지만 모든 문제를 해결해주는 것은 아니기 때문에)</p><p> 예전에 최태건님이 FEConf에서 발표했던 <a target="_blank" rel="noopener noreferrer" href="https://www.youtube.com/watch?v=J4JHLESAiFk">OpenAPI Specification으로 타입-세이프하게 API 개발하기: 희망편 VS 절망편</a> 영상을 보면서 백엔드에서 OpenApi 스펙을 제공해준다면 이 정보를 이용해서 typing을 만들어 낼 수 있다는 사실을 배웠던 것이 생각이 났고 새로운 프로젝트를 시작하는 김에 OpenApi를 사용해서 type을 generate하고 type-safe하게 react-query hook을 사용하고 싶었습니다. 그래서 개인적으로 어떻게 OpenApi 스펙과 몇 가지 라이브러리들을 활용해서 어떻게 react-query hook을 사용하고 있는지 정리해보려고합니다. 바로 그냥 코드만 보고 싶으신 분들은 <a target="_blank" rel="noopener noreferrer" href="https://gist.github.com/seonghyeonkimm/977b58387f9f4e11afeee8c7685c2e89#file-1-use-oai-query-example-ts">아래 링크</a>를 클릭하셔서 코드만 확인하실 수도 있습니다.</p><p> 저는 다음 라이브러리들을 이용했습니다.</p><ul><li><a target="_blank" rel="noopener noreferrer" href="https://react-query.tanstack.com/">react-query</a>: server state를 요청하고 관리하기 위해서 사용합니다.</li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/drwpow/openapi-typescript">openapi-typescript</a>: 간단한 커맨드를 사용해서 OpenApi 스펙을 기준으로 typing을 생성해줍니다.</li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/millsp/ts-toolbelt">ts-toolbelt</a>: openapi-typescript 생성해주는 type들을 편하게 사용하기 위해서 typescript utils들을 제공해주는 라이브러리를 사용했습니다.</li></ul><p> 위의 라이브러리들을 설치를 하고나서 우선 처음 해야하는 작업은 OpenApi 스펙을 input으로 주고 openapi-typescript 라이브러리를 활용해서 typing을 생성해야 합니다. 우선 이 내용을 진행하기 위해서는 백엔드 서버에서 OpenApi 스펙이 정의된 JSON을 받을 수 있어야 합니다. 모든 분들이 이 정보를 가지고 있지 않으실 수도 있기 때문에 설명을 위해서 인터넷에 공개되어있는 <a target="_blank" rel="noopener noreferrer" href="https://api.openapi-generator.tech/api-docs">openapi-generator OpenApi Specs</a>를 사용해서 type을 만들고 react-query로 요청을 해본다고 가정해보겠습니다.</p><p> 우선 type을 생성해봅시다. 아래 커맨드를 실행하면 따로 첨부한 <a target="_blank" rel="noopener noreferrer" href="https://gist.github.com/seonghyeonkimm/977b58387f9f4e11afeee8c7685c2e89#file-2-type-ts">types.ts</a> 파일의 내용같은 type들이 generate됩니다.</p><div class="relative"><pre><code class="code-highlight language-sh"><span class="code-line"># output parameter를 사용하면 어디에 type을 생성할지 결정할 수 있습니다.
</span><span class="code-line">npx openapi-typescript https://api.openapi-generator.tech/api-docs --output ./src/types/index.ts
</span></code></pre></div><p> 결과물을 보면 몇 가지 interface들이 생성됩니다. 우선 각각의 interface가 어떤 값들을 의미하는 지에 대해서 이해가 필요합니다. paths와 operations를 제외하고 다른 type들도 생성이 되지만 저는 주로 paths와 operations만 참고해서 사용했습니다.</p><div class="relative"><pre><code class="code-highlight"><span class="code-line">* paths interface
</span><span class="code-line">  - 요청 api endpoint(ex. /api/gen/clients)를 키로하고 어떤 method들을 지원하고 각 method는 어떤 response를 return하는지에 대한 interface입니다.
</span><span class="code-line">* operations interface
</span><span class="code-line">  - paths에서 각 method들의 parameters(path, query)와 response에 대한 type들을 모아두고 있는 interface입니다.
</span></code></pre></div><p> 다음으로 react-query의 useQuery의 key값을 매번 직접 지정해주기 귀찮기 때문에 queryKey로 paths의 key로 사용하고, 그 값을 기준으로 params, body, response type, error type 등을 추론하도록 만들기 위해서는 util성의 타입들을 먼저 작업해야 했습니다. 이 utils성 타입들은 openapi-typescript가 생성해준 type들에서 필요한 key들만을 select하거나 parameters 혹은 response의 type를 추론하기 위해서 다음과 같이 작업했습니다.</p><div class="relative"><pre><code class="code-highlight language-ts"><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">O</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;ts-toolbelt&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> paths <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;./types&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 생성된 paths interface의 모든 키들의 type</span>
</span><span class="code-line"><span class="token class-name"><span class="token keyword">export</span></span> <span class="token keyword">type</span> <span class="token class-name">OAIPathKeys</span> <span class="token operator">=</span> <span class="token keyword">keyof</span> paths
</span><span class="code-line"><span class="token comment">// 주로 사용되는 api method들에 대한 type</span>
</span><span class="code-line"><span class="token class-name"><span class="token keyword">export</span></span> <span class="token keyword">type</span> <span class="token class-name">OAIMethods</span> <span class="token operator">=</span> <span class="token string">&#x27;get&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;put&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;post&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;delete&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;patch&#x27;</span>
</span><span class="code-line"><span class="token comment">// 특정 method가 존재하는 paths key들만 뽑기 위한 type</span>
</span><span class="code-line"><span class="token class-name"><span class="token keyword">export</span></span> <span class="token keyword">type</span> <span class="token class-name">OAIMethodPathKeys<span class="token operator">&lt;</span>TMethod <span class="token keyword">extends</span> OAIMethods<span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">O</span><span class="token punctuation">.</span>SelectKeys<span class="token operator">&lt;</span>
</span><span class="code-line">  paths<span class="token punctuation">,</span>
</span><span class="code-line">  Record<span class="token operator">&lt;</span>TMethod<span class="token punctuation">,</span> <span class="token builtin">unknown</span><span class="token operator">&gt;</span>
</span><span class="code-line"><span class="token operator">&gt;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 특정 paths, method에 해당되는 path parameters type (api params에 대한 type)</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">OAIPathParameters<span class="token operator">&lt;</span>TPath <span class="token keyword">extends</span> OAIPathKeys<span class="token punctuation">,</span> TMethod <span class="token keyword">extends</span> OAIMethods<span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">O</span><span class="token punctuation">.</span>Path<span class="token operator">&lt;</span>
</span><span class="code-line">  paths<span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">[</span>TPath<span class="token punctuation">,</span> TMethod<span class="token punctuation">,</span> <span class="token string">&#x27;parameters&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;path&#x27;</span><span class="token punctuation">]</span>
</span><span class="code-line"><span class="token operator">&gt;</span>
</span><span class="code-line"><span class="token comment">// 특정 paths, method에 해당되는 query parameters type (api querystring에 대한 type)</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">OAIQueryParameters<span class="token operator">&lt;</span>TPath <span class="token keyword">extends</span> OAIPathKeys<span class="token punctuation">,</span> TMethod <span class="token keyword">extends</span> OAIMethods<span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">O</span><span class="token punctuation">.</span>Path<span class="token operator">&lt;</span>
</span><span class="code-line">  paths<span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">[</span>TPath<span class="token punctuation">,</span> TMethod<span class="token punctuation">,</span> <span class="token string">&#x27;parameters&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;query&#x27;</span><span class="token punctuation">]</span>
</span><span class="code-line"><span class="token operator">&gt;</span>
</span><span class="code-line"><span class="token comment">// react-query의 variables로 params, querystring을 통합해서 받아서 사용하기 위한 type</span>
</span><span class="code-line"><span class="token class-name"><span class="token keyword">export</span></span> <span class="token keyword">type</span> <span class="token class-name">OAIParameters<span class="token operator">&lt;</span>
</span></span><span class="code-line"><span class="token class-name">  TPath <span class="token keyword">extends</span> OAIPathKeys<span class="token punctuation">,</span>
</span></span><span class="code-line"><span class="token class-name">  TMethod <span class="token keyword">extends</span> OAIMethods
</span></span><span class="code-line"><span class="token class-name"><span class="token operator">&gt;</span></span> <span class="token operator">=</span> OAIPathParameters<span class="token operator">&lt;</span>TPath<span class="token punctuation">,</span> TMethod<span class="token operator">&gt;</span> <span class="token keyword">extends</span> <span class="token class-name">Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">unknown</span><span class="token operator">&gt;</span></span>
</span><span class="code-line">  <span class="token operator">?</span> OAIQueryParameters<span class="token operator">&lt;</span>TPath<span class="token punctuation">,</span> TMethod<span class="token operator">&gt;</span> <span class="token keyword">extends</span> <span class="token class-name">Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">unknown</span><span class="token operator">&gt;</span></span>
</span><span class="code-line">    <span class="token operator">?</span> <span class="token constant">O</span><span class="token punctuation">.</span>Merge<span class="token operator">&lt;</span>OAIPathParameters<span class="token operator">&lt;</span>TPath<span class="token punctuation">,</span> TMethod<span class="token operator">&gt;</span><span class="token punctuation">,</span> OAIQueryParameters<span class="token operator">&lt;</span>TPath<span class="token punctuation">,</span> TMethod<span class="token operator">&gt;&gt;</span>
</span><span class="code-line">    <span class="token operator">:</span> OAIPathParameters<span class="token operator">&lt;</span>TPath<span class="token punctuation">,</span> TMethod<span class="token operator">&gt;</span>
</span><span class="code-line">  <span class="token operator">:</span> OAIQueryParameters<span class="token operator">&lt;</span>TPath<span class="token punctuation">,</span> TMethod<span class="token operator">&gt;</span> <span class="token keyword">extends</span> <span class="token class-name">Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">unknown</span><span class="token operator">&gt;</span></span>
</span><span class="code-line">  <span class="token operator">?</span> OAIQueryParameters<span class="token operator">&lt;</span>TPath<span class="token punctuation">,</span> TMethod<span class="token operator">&gt;</span>
</span><span class="code-line">  <span class="token operator">:</span> <span class="token keyword">undefined</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 특정 path, method의 statusCode 200에 대한 response type</span>
</span><span class="code-line"><span class="token class-name"><span class="token keyword">export</span></span> <span class="token keyword">type</span> <span class="token class-name">OAIResponse<span class="token operator">&lt;</span>TPath <span class="token keyword">extends</span> <span class="token keyword">keyof</span> paths<span class="token punctuation">,</span> TMethod <span class="token keyword">extends</span> OAIMethods<span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">O</span><span class="token punctuation">.</span>Path<span class="token operator">&lt;</span>
</span><span class="code-line">  paths<span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token comment">// 아래의 path는 주어진 OpenApi Specs에 따라서 달라질 수 있습니다.</span>
</span><span class="code-line">  <span class="token punctuation">[</span>TPath<span class="token punctuation">,</span> TMethod<span class="token punctuation">,</span> <span class="token string">&#x27;responses&#x27;</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">&#x27;schema&#x27;</span><span class="token punctuation">]</span>
</span><span class="code-line"><span class="token operator">&gt;</span>
</span></code></pre></div><p> 다음으로, 위에 작성한 utils성 type들을 활용해서 react-query의 useQuery의 type을 확장해주는 useOAIQuery라는 hook을 만들었습니다.</p><div class="relative"><pre><code class="code-highlight language-ts"><span class="code-line"><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> UseQueryOptions <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;react-query&#x27;</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> useQuery <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;react-query&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// BASE_URL은 요청해야하는 서버의 주소로 변경 필요</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token constant">BASE_URL</span> <span class="token operator">=</span> <span class="token string">&#x27;https://api.openapi-generator.tech&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// useQuery에 전달한 queryKey, variables를 requestUrl로 만들기 위한 utils</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function function-variable">getRequestUrl</span> <span class="token operator">=</span> <span class="token punctuation">(</span>queryKey<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> variables<span class="token operator">?</span><span class="token operator">:</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">unknown</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token template-string"><span class="token string template-punctuation">`</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span><span class="token constant">BASE_URL</span><span class="token punctuation interpolation-punctuation">}</span></span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>queryKey<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string template-punctuation">`</span></span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> paramKeys <span class="token operator">=</span> <span class="token punctuation">(</span>queryKey<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token language-regex regex-source">{<span class="token char-class"><span class="token punctuation char-class-punctuation">[</span><span class="token range">a<span class="token operator range-punctuation">-</span>z</span><span class="token range">A<span class="token operator range-punctuation">-</span>z</span>-<span class="token punctuation char-class-punctuation">]</span></span><span class="token number quantifier">+</span>}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
</span><span class="code-line">    param<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token language-regex regex-source"><span class="token char-class"><span class="token punctuation char-class-punctuation">[</span>{}<span class="token punctuation char-class-punctuation">]</span></span></span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#x27;&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line">  paramKeys<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    url <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string template-punctuation">`</span><span class="token string">{</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>param<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">}</span><span class="token string template-punctuation">`</span></span><span class="token punctuation">,</span> variables<span class="token operator">?.</span><span class="token punctuation">[</span>param<span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> qs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span>
</span><span class="code-line">    Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>variables <span class="token operator">??</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>current<span class="token punctuation">,</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">if</span> <span class="token punctuation">(</span>paramKeys<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword">return</span> current
</span><span class="code-line">      <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">      <span class="token keyword">return</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token operator">...</span>current<span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">:</span> value<span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>qs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    url <span class="token operator">=</span> <span class="token template-string"><span class="token string template-punctuation">`</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>url<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">?</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>qs<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string template-punctuation">`</span></span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> url
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 위에 생성한 types, utils을 활용하여 useQuery를 wrapping하고 있는 useOAIQuery</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token generic-function"><span class="token function">useOAIQuery</span><span class="token class-name generic"><span class="token operator">&lt;</span>
</span></span></span><span class="code-line"><span class="token generic-function"><span class="token class-name generic">  TQueryKey <span class="token keyword">extends</span> OAIMethodPathKeys<span class="token operator">&lt;</span><span class="token string">&#x27;get&#x27;</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
</span></span></span><span class="code-line"><span class="token generic-function"><span class="token class-name generic">  TVariables <span class="token keyword">extends</span> OAIParameters<span class="token operator">&lt;</span>TQueryKey<span class="token punctuation">,</span> <span class="token string">&#x27;get&#x27;</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
</span></span></span><span class="code-line"><span class="token generic-function"><span class="token class-name generic">  TData <span class="token keyword">extends</span> OAIResponse<span class="token operator">&lt;</span>TQueryKey<span class="token punctuation">,</span> <span class="token string">&#x27;get&#x27;</span><span class="token operator">&gt;</span>
</span></span></span><span class="code-line"><span class="token generic-function"><span class="token class-name generic"><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">  queryKey<span class="token punctuation">,</span>
</span><span class="code-line">  queryOptions<span class="token punctuation">,</span>
</span><span class="code-line">  variables<span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">  queryKey<span class="token operator">:</span> TQueryKey
</span><span class="code-line">  queryOptions<span class="token operator">?</span><span class="token operator">:</span> Omit<span class="token operator">&lt;</span>
</span><span class="code-line">    UseQueryOptions<span class="token operator">&lt;</span>TData<span class="token punctuation">,</span> <span class="token builtin">unknown</span><span class="token punctuation">,</span> TData<span class="token punctuation">,</span> <span class="token punctuation">(</span>Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">unknown</span><span class="token operator">&gt;</span> <span class="token operator">|</span> TQueryKey <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&#x27;queryKey&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;queryFn&#x27;</span>
</span><span class="code-line">  <span class="token operator">&gt;</span>
</span><span class="code-line"><span class="token punctuation">}</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span>TVariables <span class="token keyword">extends</span> <span class="token class-name"><span class="token keyword">undefined</span></span>
</span><span class="code-line">  <span class="token operator">?</span> <span class="token punctuation">{</span>
</span><span class="code-line">      variables<span class="token operator">?</span><span class="token operator">:</span> <span class="token keyword">undefined</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token operator">:</span> <span class="token constant">O</span><span class="token punctuation">.</span>RequiredKeys<span class="token operator">&lt;</span>NonNullable<span class="token operator">&lt;</span>TVariables<span class="token operator">&gt;&gt;</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">never</span></span>
</span><span class="code-line">  <span class="token operator">?</span> <span class="token punctuation">{</span>
</span><span class="code-line">      variables<span class="token operator">?</span><span class="token operator">:</span> TVariables
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      variables<span class="token operator">:</span> TVariables
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token function">useQuery</span><span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token punctuation">[</span>queryKey<span class="token punctuation">,</span> variables<span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> signal <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token function">getRequestUrl</span><span class="token punctuation">(</span>queryKey<span class="token punctuation">,</span> variables<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
</span><span class="code-line">        signal<span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>response<span class="token punctuation">.</span>ok<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#x27;Response error&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">      <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">      <span class="token keyword">const</span> json <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> TData
</span><span class="code-line">      <span class="token keyword">return</span> json
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    queryOptions
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p> 위와 같이 util types, util 함수, useOAIQuery 등을 만들어 두고 실제로 사용한다면 매번 react-query의 key를 어떻게 지정해야할 지 고민하지 않아도 되고, type을 정확하게 사용할 수 있습니다. 완전한 코드 스니펫을 보고 싶으신 분은 <a target="_blank" rel="noopener noreferrer" href="https://gist.github.com/seonghyeonkimm/977b58387f9f4e11afeee8c7685c2e89#file-1-use-oai-query-example-ts">아래 링크</a>를 확인해주세요.</p><p> 이 글에서 예시로 적은 코드들은 실제로 사용하고 있는 코드와는 조금 차이가 있습니다. 우선, 최대한 제가 전달하고자 하는 내용들을 설명하기에 부족함이 없고 작동하는 코드를 보여드리기 위해서 최대한 간결하게 정리하여서 공유했습니다 (여전히 제 실력이 부족하여 복잡하긴 합니다.). 제가 공유한 코드 스니펫들이 바로 사용할 수 있는 수준까지는 많은 보완이 필요할 수 있겠지만 rest api와 통신하는 작업을 진행하실 때에 type safe하게 server state를 관리하고 싶고 react-query나 swc를 사용할 때에 key를 매번 직접 적어주는 불편함을 느끼고 계신 분들에게 하나의 아이디어나 도움이 조금이라도 될 수 있으면 좋겠습니다.</p></div><div class="pt-6 pb-6 text-sm text-gray-700 dark:text-gray-300"><a target="_blank" rel="nofollow" href="https://mobile.twitter.com/search?q=https%3A%2F%2Fseonghyeonkimm.github.io%2F%2Fblog%2Fopenapi-typescript-typesafe-react-query">Discuss on Twitter</a> • <a target="_blank" rel="noopener noreferrer" href="https://github.com/seonghyeonkimm/seonghyeonkimm.github.io/blob/master/data/blog/openapi-typescript-typesafe-react-query">View on GitHub</a></div><div id="comment"></div></div><footer><div class="divide-gray-200 text-sm font-medium leading-5 dark:divide-gray-700 xl:col-start-1 xl:row-start-2 xl:divide-y"><div class="py-4 xl:py-8"><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Tags</h2><div class="flex flex-wrap"><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/openapi">openapi</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/react-query">react-query</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/react">react</a></div></div><div class="flex justify-between py-4 xl:block xl:space-y-8 xl:py-8"><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Previous Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/react-18-preview">React 18 미리보기</a></div></div><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Next Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/reactathon-2022">Reactathon 2022에서 흥미로웠던 발표</a></div></div></div></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog">← Back to the blog</a></div></footer></div></div></article></div></main><footer><div class="mt-16 flex flex-col items-center"><div class="mb-3 flex space-x-4"><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="mailto:impressor7@gmail.com"><span class="sr-only">mail</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M2.003 5.884 10 9.882l7.997-3.998A2 2 0 0 0 16 4H4a2 2 0 0 0-1.997 1.884z"></path><path d="m18 8.118-8 4-8-4V14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8.118z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://github.com/seonghyeonkimm"><span class="sr-only">github</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/seonghyeon-kim-328757b7/"><span class="sr-only">linkedin</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 0 1-2.063-2.065 2.064 2.064 0 1 1 2.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://twitter.com/seonghyeon___"><span class="sr-only">twitter</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M23.953 4.57a10 10 0 0 1-2.825.775 4.958 4.958 0 0 0 2.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 0 0-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 0 0-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 0 1-2.228-.616v.06a4.923 4.923 0 0 0 3.946 4.827 4.996 4.996 0 0 1-2.212.085 4.936 4.936 0 0 0 4.604 3.417 9.867 9.867 0 0 1-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 0 0 7.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0 0 24 4.59z"></path></svg></a></div><div class="mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400"><div>Seonghyeon Kim</div><div> • </div><div>© 2025</div></div><div class="mb-8 text-sm text-gray-500 dark:text-gray-400"><a target="_blank" rel="noopener noreferrer" href="https://github.com/timlrx/tailwind-nextjs-starter-blog">Tailwind Nextjs Theme</a></div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"openapi 스펙을 활용해서 type-safe하게 react-query 사용하기","date":"2022-02-20T00:00:00.000Z","tags":["openapi","react-query","react"],"draft":false,"summary":"ReactQuery를 openapi-typescript를 활용해서 typesafe하게 활용해본 경험을 작성했습니다.","body":{"raw":"\n\u0026nbsp;graphql 백엔드와 통신하면서 프론트 작업을 할 때에는 graphql-codegen 사용해서 graphql schema를 기준으로 types을 generate해서 사용했었습니다. 그래서 따로 parameters, body, 그리고 response에 대해서 type을 따로 신경쓸 필요 없었고 type-safe하게 작업할 수 있었습니다. 그런데 이번에 시작한 프로젝트에서는 graphql가 아닌 rest api로 구성되어있는 백엔드와 통신해야하는 상황이 생겼고, 직접 type들을 타이핑을 해야한다고 생각하니 그렇게 하기가 싫었습니다. (물론, [Paste JSON as Code](https://marketplace.visualstudio.com/items?itemName=quicktype.quicktype)을 사용하면 조금 더 편하게 할 수 있긴 하지만 모든 문제를 해결해주는 것은 아니기 때문에)\n\n\u0026nbsp;예전에 최태건님이 FEConf에서 발표했던 [OpenAPI Specification으로 타입-세이프하게 API 개발하기: 희망편 VS 절망편](https://www.youtube.com/watch?v=J4JHLESAiFk) 영상을 보면서 백엔드에서 OpenApi 스펙을 제공해준다면 이 정보를 이용해서 typing을 만들어 낼 수 있다는 사실을 배웠던 것이 생각이 났고 새로운 프로젝트를 시작하는 김에 OpenApi를 사용해서 type을 generate하고 type-safe하게 react-query hook을 사용하고 싶었습니다. 그래서 개인적으로 어떻게 OpenApi 스펙과 몇 가지 라이브러리들을 활용해서 어떻게 react-query hook을 사용하고 있는지 정리해보려고합니다. 바로 그냥 코드만 보고 싶으신 분들은 [아래 링크](https://gist.github.com/seonghyeonkimm/977b58387f9f4e11afeee8c7685c2e89#file-1-use-oai-query-example-ts)를 클릭하셔서 코드만 확인하실 수도 있습니다.\n\n\u0026nbsp;저는 다음 라이브러리들을 이용했습니다.\n\n- [react-query](https://react-query.tanstack.com/): server state를 요청하고 관리하기 위해서 사용합니다.\n- [openapi-typescript](https://github.com/drwpow/openapi-typescript): 간단한 커맨드를 사용해서 OpenApi 스펙을 기준으로 typing을 생성해줍니다.\n- [ts-toolbelt](https://github.com/millsp/ts-toolbelt): openapi-typescript 생성해주는 type들을 편하게 사용하기 위해서 typescript utils들을 제공해주는 라이브러리를 사용했습니다.\n\n\u0026nbsp;위의 라이브러리들을 설치를 하고나서 우선 처음 해야하는 작업은 OpenApi 스펙을 input으로 주고 openapi-typescript 라이브러리를 활용해서 typing을 생성해야 합니다. 우선 이 내용을 진행하기 위해서는 백엔드 서버에서 OpenApi 스펙이 정의된 JSON을 받을 수 있어야 합니다. 모든 분들이 이 정보를 가지고 있지 않으실 수도 있기 때문에 설명을 위해서 인터넷에 공개되어있는 [openapi-generator OpenApi Specs](https://api.openapi-generator.tech/api-docs)를 사용해서 type을 만들고 react-query로 요청을 해본다고 가정해보겠습니다.\n\n\u0026nbsp;우선 type을 생성해봅시다. 아래 커맨드를 실행하면 따로 첨부한 [types.ts](https://gist.github.com/seonghyeonkimm/977b58387f9f4e11afeee8c7685c2e89#file-2-type-ts) 파일의 내용같은 type들이 generate됩니다.\n\n```sh\n# output parameter를 사용하면 어디에 type을 생성할지 결정할 수 있습니다.\nnpx openapi-typescript https://api.openapi-generator.tech/api-docs --output ./src/types/index.ts\n```\n\n\u0026nbsp;결과물을 보면 몇 가지 interface들이 생성됩니다. 우선 각각의 interface가 어떤 값들을 의미하는 지에 대해서 이해가 필요합니다. paths와 operations를 제외하고 다른 type들도 생성이 되지만 저는 주로 paths와 operations만 참고해서 사용했습니다.\n\n```\n* paths interface\n  - 요청 api endpoint(ex. /api/gen/clients)를 키로하고 어떤 method들을 지원하고 각 method는 어떤 response를 return하는지에 대한 interface입니다.\n* operations interface\n  - paths에서 각 method들의 parameters(path, query)와 response에 대한 type들을 모아두고 있는 interface입니다.\n```\n\n\u0026nbsp;다음으로 react-query의 useQuery의 key값을 매번 직접 지정해주기 귀찮기 때문에 queryKey로 paths의 key로 사용하고, 그 값을 기준으로 params, body, response type, error type 등을 추론하도록 만들기 위해서는 util성의 타입들을 먼저 작업해야 했습니다. 이 utils성 타입들은 openapi-typescript가 생성해준 type들에서 필요한 key들만을 select하거나 parameters 혹은 response의 type를 추론하기 위해서 다음과 같이 작업했습니다.\n\n```ts\nimport { O } from 'ts-toolbelt'\n\nimport { paths } from './types'\n\n// 생성된 paths interface의 모든 키들의 type\nexport type OAIPathKeys = keyof paths\n// 주로 사용되는 api method들에 대한 type\nexport type OAIMethods = 'get' | 'put' | 'post' | 'delete' | 'patch'\n// 특정 method가 존재하는 paths key들만 뽑기 위한 type\nexport type OAIMethodPathKeys\u003cTMethod extends OAIMethods\u003e = O.SelectKeys\u003c\n  paths,\n  Record\u003cTMethod, unknown\u003e\n\u003e\n\n// 특정 paths, method에 해당되는 path parameters type (api params에 대한 type)\nexport type OAIPathParameters\u003cTPath extends OAIPathKeys, TMethod extends OAIMethods\u003e = O.Path\u003c\n  paths,\n  [TPath, TMethod, 'parameters', 'path']\n\u003e\n// 특정 paths, method에 해당되는 query parameters type (api querystring에 대한 type)\nexport type OAIQueryParameters\u003cTPath extends OAIPathKeys, TMethod extends OAIMethods\u003e = O.Path\u003c\n  paths,\n  [TPath, TMethod, 'parameters', 'query']\n\u003e\n// react-query의 variables로 params, querystring을 통합해서 받아서 사용하기 위한 type\nexport type OAIParameters\u003c\n  TPath extends OAIPathKeys,\n  TMethod extends OAIMethods\n\u003e = OAIPathParameters\u003cTPath, TMethod\u003e extends Record\u003cstring, unknown\u003e\n  ? OAIQueryParameters\u003cTPath, TMethod\u003e extends Record\u003cstring, unknown\u003e\n    ? O.Merge\u003cOAIPathParameters\u003cTPath, TMethod\u003e, OAIQueryParameters\u003cTPath, TMethod\u003e\u003e\n    : OAIPathParameters\u003cTPath, TMethod\u003e\n  : OAIQueryParameters\u003cTPath, TMethod\u003e extends Record\u003cstring, unknown\u003e\n  ? OAIQueryParameters\u003cTPath, TMethod\u003e\n  : undefined\n\n// 특정 path, method의 statusCode 200에 대한 response type\nexport type OAIResponse\u003cTPath extends keyof paths, TMethod extends OAIMethods\u003e = O.Path\u003c\n  paths,\n  // 아래의 path는 주어진 OpenApi Specs에 따라서 달라질 수 있습니다.\n  [TPath, TMethod, 'responses', 200, 'schema']\n\u003e\n```\n\n\u0026nbsp;다음으로, 위에 작성한 utils성 type들을 활용해서 react-query의 useQuery의 type을 확장해주는 useOAIQuery라는 hook을 만들었습니다.\n\n```ts\nimport type { UseQueryOptions } from 'react-query'\nimport { useQuery } from 'react-query'\n\n// BASE_URL은 요청해야하는 서버의 주소로 변경 필요\nconst BASE_URL = 'https://api.openapi-generator.tech'\n\n// useQuery에 전달한 queryKey, variables를 requestUrl로 만들기 위한 utils\nexport const getRequestUrl = (queryKey: string, variables?: Record\u003cstring, unknown\u003e) =\u003e {\n  let url = `${BASE_URL}${queryKey}`\n\n  const paramKeys = (queryKey.match(/{[a-zA-z-]+}/g) ?? []).map((param) =\u003e\n    param.replace(/[{}]/g, '')\n  )\n  paramKeys.forEach((param) =\u003e {\n    url = url.replace(`{${param}}`, variables?.[param] as string)\n  })\n\n  const qs = new URLSearchParams(\n    Object.entries(variables ?? {}).reduce((current, [key, value]) =\u003e {\n      if (paramKeys.includes(key)) {\n        return current\n      }\n\n      return {\n        ...current,\n        [key]: value,\n      }\n    }, {})\n  ).toString()\n\n  if (qs) {\n    url = `${url}?${qs}`\n  }\n\n  return url\n}\n\n// 위에 생성한 types, utils을 활용하여 useQuery를 wrapping하고 있는 useOAIQuery\nexport function useOAIQuery\u003c\n  TQueryKey extends OAIMethodPathKeys\u003c'get'\u003e,\n  TVariables extends OAIParameters\u003cTQueryKey, 'get'\u003e,\n  TData extends OAIResponse\u003cTQueryKey, 'get'\u003e\n\u003e({\n  queryKey,\n  queryOptions,\n  variables,\n}: {\n  queryKey: TQueryKey\n  queryOptions?: Omit\u003c\n    UseQueryOptions\u003cTData, unknown, TData, (Record\u003cstring, unknown\u003e | TQueryKey | undefined)[]\u003e,\n    'queryKey' | 'queryFn'\n  \u003e\n} \u0026 (TVariables extends undefined\n  ? {\n      variables?: undefined\n    }\n  : O.RequiredKeys\u003cNonNullable\u003cTVariables\u003e\u003e extends never\n  ? {\n      variables?: TVariables\n    }\n  : {\n      variables: TVariables\n    })) {\n  return useQuery(\n    [queryKey, variables],\n    async ({ signal }) =\u003e {\n      const response = await fetch(getRequestUrl(queryKey, variables), {\n        signal,\n      })\n\n      if (!response.ok) {\n        throw new Error('Response error')\n      }\n\n      const json = (await response.json()) as TData\n      return json\n    },\n    queryOptions\n  )\n}\n```\n\n\u0026nbsp;위와 같이 util types, util 함수, useOAIQuery 등을 만들어 두고 실제로 사용한다면 매번 react-query의 key를 어떻게 지정해야할 지 고민하지 않아도 되고, type을 정확하게 사용할 수 있습니다. 완전한 코드 스니펫을 보고 싶으신 분은 [아래 링크](https://gist.github.com/seonghyeonkimm/977b58387f9f4e11afeee8c7685c2e89#file-1-use-oai-query-example-ts)를 확인해주세요.\n\n\u0026nbsp;이 글에서 예시로 적은 코드들은 실제로 사용하고 있는 코드와는 조금 차이가 있습니다. 우선, 최대한 제가 전달하고자 하는 내용들을 설명하기에 부족함이 없고 작동하는 코드를 보여드리기 위해서 최대한 간결하게 정리하여서 공유했습니다 (여전히 제 실력이 부족하여 복잡하긴 합니다.). 제가 공유한 코드 스니펫들이 바로 사용할 수 있는 수준까지는 많은 보완이 필요할 수 있겠지만 rest api와 통신하는 작업을 진행하실 때에 type safe하게 server state를 관리하고 싶고 react-query나 swc를 사용할 때에 key를 매번 직접 적어주는 불편함을 느끼고 계신 분들에게 하나의 아이디어나 도움이 조금이라도 될 수 있으면 좋겠습니다.\n","code":"var Component=(()=\u003e{var i=Object.create;var t=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var l=a=\u003et(a,\"__esModule\",{value:!0});var N=(a,s)=\u003e()=\u003e(s||a((s={exports:{}}).exports,s),s.exports),u=(a,s)=\u003e{l(a);for(var c in s)t(a,c,{get:s[c],enumerable:!0})},k=(a,s,c)=\u003e{if(s\u0026\u0026typeof s==\"object\"||typeof s==\"function\")for(let n of d(s))!m.call(a,n)\u0026\u0026n!==\"default\"\u0026\u0026t(a,n,{get:()=\u003es[n],enumerable:!(c=p(s,n))||c.enumerable});return a},y=a=\u003ek(l(t(a!=null?i(h(a)):{},\"default\",a\u0026\u0026a.__esModule\u0026\u0026\"default\"in a?{get:()=\u003ea.default,enumerable:!0}:{value:a,enumerable:!0})),a);var r=N((b,o)=\u003e{o.exports=_jsx_runtime});var O={};u(O,{default:()=\u003ef,frontmatter:()=\u003eg});var e=y(r()),g={title:\"openapi \\uC2A4\\uD399\\uC744 \\uD65C\\uC6A9\\uD574\\uC11C type-safe\\uD558\\uAC8C react-query \\uC0AC\\uC6A9\\uD558\\uAE30\",date:\"2022-02-20\",tags:[\"openapi\",\"react-query\",\"react\"],draft:!1,summary:\"ReactQuery\\uB97C openapi-typescript\\uB97C \\uD65C\\uC6A9\\uD574\\uC11C typesafe\\uD558\\uAC8C \\uD65C\\uC6A9\\uD574\\uBCF8 \\uACBD\\uD5D8\\uC744 \\uC791\\uC131\\uD588\\uC2B5\\uB2C8\\uB2E4.\"};function w(a={}){let{wrapper:s}=a.components||{};return s?(0,e.jsx)(s,Object.assign({},a,{children:(0,e.jsx)(c,{})})):c();function c(){let n=Object.assign({p:\"p\",a:\"a\",ul:\"ul\",li:\"li\",pre:\"pre\",code:\"code\",span:\"span\"},a.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.p,{children:[\"\\xA0graphql \\uBC31\\uC5D4\\uB4DC\\uC640 \\uD1B5\\uC2E0\\uD558\\uBA74\\uC11C \\uD504\\uB860\\uD2B8 \\uC791\\uC5C5\\uC744 \\uD560 \\uB54C\\uC5D0\\uB294 graphql-codegen \\uC0AC\\uC6A9\\uD574\\uC11C graphql schema\\uB97C \\uAE30\\uC900\\uC73C\\uB85C types\\uC744 generate\\uD574\\uC11C \\uC0AC\\uC6A9\\uD588\\uC5C8\\uC2B5\\uB2C8\\uB2E4. \\uADF8\\uB798\\uC11C \\uB530\\uB85C parameters, body, \\uADF8\\uB9AC\\uACE0 response\\uC5D0 \\uB300\\uD574\\uC11C type\\uC744 \\uB530\\uB85C \\uC2E0\\uACBD\\uC4F8 \\uD544\\uC694 \\uC5C6\\uC5C8\\uACE0 type-safe\\uD558\\uAC8C \\uC791\\uC5C5\\uD560 \\uC218 \\uC788\\uC5C8\\uC2B5\\uB2C8\\uB2E4. \\uADF8\\uB7F0\\uB370 \\uC774\\uBC88\\uC5D0 \\uC2DC\\uC791\\uD55C \\uD504\\uB85C\\uC81D\\uD2B8\\uC5D0\\uC11C\\uB294 graphql\\uAC00 \\uC544\\uB2CC rest api\\uB85C \\uAD6C\\uC131\\uB418\\uC5B4\\uC788\\uB294 \\uBC31\\uC5D4\\uB4DC\\uC640 \\uD1B5\\uC2E0\\uD574\\uC57C\\uD558\\uB294 \\uC0C1\\uD669\\uC774 \\uC0DD\\uACBC\\uACE0, \\uC9C1\\uC811 type\\uB4E4\\uC744 \\uD0C0\\uC774\\uD551\\uC744 \\uD574\\uC57C\\uD55C\\uB2E4\\uACE0 \\uC0DD\\uAC01\\uD558\\uB2C8 \\uADF8\\uB807\\uAC8C \\uD558\\uAE30\\uAC00 \\uC2EB\\uC5C8\\uC2B5\\uB2C8\\uB2E4. (\\uBB3C\\uB860, \",(0,e.jsx)(n.a,{href:\"https://marketplace.visualstudio.com/items?itemName=quicktype.quicktype\",children:\"Paste JSON as Code\"}),\"\\uC744 \\uC0AC\\uC6A9\\uD558\\uBA74 \\uC870\\uAE08 \\uB354 \\uD3B8\\uD558\\uAC8C \\uD560 \\uC218 \\uC788\\uAE34 \\uD558\\uC9C0\\uB9CC \\uBAA8\\uB4E0 \\uBB38\\uC81C\\uB97C \\uD574\\uACB0\\uD574\\uC8FC\\uB294 \\uAC83\\uC740 \\uC544\\uB2C8\\uAE30 \\uB54C\\uBB38\\uC5D0)\"]}),(0,e.jsxs)(n.p,{children:[\"\\xA0\\uC608\\uC804\\uC5D0 \\uCD5C\\uD0DC\\uAC74\\uB2D8\\uC774 FEConf\\uC5D0\\uC11C \\uBC1C\\uD45C\\uD588\\uB358 \",(0,e.jsx)(n.a,{href:\"https://www.youtube.com/watch?v=J4JHLESAiFk\",children:\"OpenAPI Specification\\uC73C\\uB85C \\uD0C0\\uC785-\\uC138\\uC774\\uD504\\uD558\\uAC8C API \\uAC1C\\uBC1C\\uD558\\uAE30: \\uD76C\\uB9DD\\uD3B8 VS \\uC808\\uB9DD\\uD3B8\"}),\" \\uC601\\uC0C1\\uC744 \\uBCF4\\uBA74\\uC11C \\uBC31\\uC5D4\\uB4DC\\uC5D0\\uC11C OpenApi \\uC2A4\\uD399\\uC744 \\uC81C\\uACF5\\uD574\\uC900\\uB2E4\\uBA74 \\uC774 \\uC815\\uBCF4\\uB97C \\uC774\\uC6A9\\uD574\\uC11C typing\\uC744 \\uB9CC\\uB4E4\\uC5B4 \\uB0BC \\uC218 \\uC788\\uB2E4\\uB294 \\uC0AC\\uC2E4\\uC744 \\uBC30\\uC6E0\\uB358 \\uAC83\\uC774 \\uC0DD\\uAC01\\uC774 \\uB0AC\\uACE0 \\uC0C8\\uB85C\\uC6B4 \\uD504\\uB85C\\uC81D\\uD2B8\\uB97C \\uC2DC\\uC791\\uD558\\uB294 \\uAE40\\uC5D0 OpenApi\\uB97C \\uC0AC\\uC6A9\\uD574\\uC11C type\\uC744 generate\\uD558\\uACE0 type-safe\\uD558\\uAC8C react-query hook\\uC744 \\uC0AC\\uC6A9\\uD558\\uACE0 \\uC2F6\\uC5C8\\uC2B5\\uB2C8\\uB2E4. \\uADF8\\uB798\\uC11C \\uAC1C\\uC778\\uC801\\uC73C\\uB85C \\uC5B4\\uB5BB\\uAC8C OpenApi \\uC2A4\\uD399\\uACFC \\uBA87 \\uAC00\\uC9C0 \\uB77C\\uC774\\uBE0C\\uB7EC\\uB9AC\\uB4E4\\uC744 \\uD65C\\uC6A9\\uD574\\uC11C \\uC5B4\\uB5BB\\uAC8C react-query hook\\uC744 \\uC0AC\\uC6A9\\uD558\\uACE0 \\uC788\\uB294\\uC9C0 \\uC815\\uB9AC\\uD574\\uBCF4\\uB824\\uACE0\\uD569\\uB2C8\\uB2E4. \\uBC14\\uB85C \\uADF8\\uB0E5 \\uCF54\\uB4DC\\uB9CC \\uBCF4\\uACE0 \\uC2F6\\uC73C\\uC2E0 \\uBD84\\uB4E4\\uC740 \",(0,e.jsx)(n.a,{href:\"https://gist.github.com/seonghyeonkimm/977b58387f9f4e11afeee8c7685c2e89#file-1-use-oai-query-example-ts\",children:\"\\uC544\\uB798 \\uB9C1\\uD06C\"}),\"\\uB97C \\uD074\\uB9AD\\uD558\\uC154\\uC11C \\uCF54\\uB4DC\\uB9CC \\uD655\\uC778\\uD558\\uC2E4 \\uC218\\uB3C4 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"]}),(0,e.jsx)(n.p,{children:\"\\xA0\\uC800\\uB294 \\uB2E4\\uC74C \\uB77C\\uC774\\uBE0C\\uB7EC\\uB9AC\\uB4E4\\uC744 \\uC774\\uC6A9\\uD588\\uC2B5\\uB2C8\\uB2E4.\"}),(0,e.jsxs)(n.ul,{children:[(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.a,{href:\"https://react-query.tanstack.com/\",children:\"react-query\"}),\": server state\\uB97C \\uC694\\uCCAD\\uD558\\uACE0 \\uAD00\\uB9AC\\uD558\\uAE30 \\uC704\\uD574\\uC11C \\uC0AC\\uC6A9\\uD569\\uB2C8\\uB2E4.\"]}),(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.a,{href:\"https://github.com/drwpow/openapi-typescript\",children:\"openapi-typescript\"}),\": \\uAC04\\uB2E8\\uD55C \\uCEE4\\uB9E8\\uB4DC\\uB97C \\uC0AC\\uC6A9\\uD574\\uC11C OpenApi \\uC2A4\\uD399\\uC744 \\uAE30\\uC900\\uC73C\\uB85C typing\\uC744 \\uC0DD\\uC131\\uD574\\uC90D\\uB2C8\\uB2E4.\"]}),(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.a,{href:\"https://github.com/millsp/ts-toolbelt\",children:\"ts-toolbelt\"}),\": openapi-typescript \\uC0DD\\uC131\\uD574\\uC8FC\\uB294 type\\uB4E4\\uC744 \\uD3B8\\uD558\\uAC8C \\uC0AC\\uC6A9\\uD558\\uAE30 \\uC704\\uD574\\uC11C typescript utils\\uB4E4\\uC744 \\uC81C\\uACF5\\uD574\\uC8FC\\uB294 \\uB77C\\uC774\\uBE0C\\uB7EC\\uB9AC\\uB97C \\uC0AC\\uC6A9\\uD588\\uC2B5\\uB2C8\\uB2E4.\"]})]}),(0,e.jsxs)(n.p,{children:[\"\\xA0\\uC704\\uC758 \\uB77C\\uC774\\uBE0C\\uB7EC\\uB9AC\\uB4E4\\uC744 \\uC124\\uCE58\\uB97C \\uD558\\uACE0\\uB098\\uC11C \\uC6B0\\uC120 \\uCC98\\uC74C \\uD574\\uC57C\\uD558\\uB294 \\uC791\\uC5C5\\uC740 OpenApi \\uC2A4\\uD399\\uC744 input\\uC73C\\uB85C \\uC8FC\\uACE0 openapi-typescript \\uB77C\\uC774\\uBE0C\\uB7EC\\uB9AC\\uB97C \\uD65C\\uC6A9\\uD574\\uC11C typing\\uC744 \\uC0DD\\uC131\\uD574\\uC57C \\uD569\\uB2C8\\uB2E4. \\uC6B0\\uC120 \\uC774 \\uB0B4\\uC6A9\\uC744 \\uC9C4\\uD589\\uD558\\uAE30 \\uC704\\uD574\\uC11C\\uB294 \\uBC31\\uC5D4\\uB4DC \\uC11C\\uBC84\\uC5D0\\uC11C OpenApi \\uC2A4\\uD399\\uC774 \\uC815\\uC758\\uB41C JSON\\uC744 \\uBC1B\\uC744 \\uC218 \\uC788\\uC5B4\\uC57C \\uD569\\uB2C8\\uB2E4. \\uBAA8\\uB4E0 \\uBD84\\uB4E4\\uC774 \\uC774 \\uC815\\uBCF4\\uB97C \\uAC00\\uC9C0\\uACE0 \\uC788\\uC9C0 \\uC54A\\uC73C\\uC2E4 \\uC218\\uB3C4 \\uC788\\uAE30 \\uB54C\\uBB38\\uC5D0 \\uC124\\uBA85\\uC744 \\uC704\\uD574\\uC11C \\uC778\\uD130\\uB137\\uC5D0 \\uACF5\\uAC1C\\uB418\\uC5B4\\uC788\\uB294 \",(0,e.jsx)(n.a,{href:\"https://api.openapi-generator.tech/api-docs\",children:\"openapi-generator OpenApi Specs\"}),\"\\uB97C \\uC0AC\\uC6A9\\uD574\\uC11C type\\uC744 \\uB9CC\\uB4E4\\uACE0 react-query\\uB85C \\uC694\\uCCAD\\uC744 \\uD574\\uBCF8\\uB2E4\\uACE0 \\uAC00\\uC815\\uD574\\uBCF4\\uACA0\\uC2B5\\uB2C8\\uB2E4.\"]}),(0,e.jsxs)(n.p,{children:[\"\\xA0\\uC6B0\\uC120 type\\uC744 \\uC0DD\\uC131\\uD574\\uBD05\\uC2DC\\uB2E4. \\uC544\\uB798 \\uCEE4\\uB9E8\\uB4DC\\uB97C \\uC2E4\\uD589\\uD558\\uBA74 \\uB530\\uB85C \\uCCA8\\uBD80\\uD55C \",(0,e.jsx)(n.a,{href:\"https://gist.github.com/seonghyeonkimm/977b58387f9f4e11afeee8c7685c2e89#file-2-type-ts\",children:\"types.ts\"}),\" \\uD30C\\uC77C\\uC758 \\uB0B4\\uC6A9\\uAC19\\uC740 type\\uB4E4\\uC774 generate\\uB429\\uB2C8\\uB2E4.\"]}),(0,e.jsx)(n.pre,{children:(0,e.jsxs)(n.code,{className:\"code-highlight language-sh\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`# output parameter\\uB97C \\uC0AC\\uC6A9\\uD558\\uBA74 \\uC5B4\\uB514\\uC5D0 type\\uC744 \\uC0DD\\uC131\\uD560\\uC9C0 \\uACB0\\uC815\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`npx openapi-typescript https://api.openapi-generator.tech/api-docs --output ./src/types/index.ts\n`})]})}),(0,e.jsx)(n.p,{children:\"\\xA0\\uACB0\\uACFC\\uBB3C\\uC744 \\uBCF4\\uBA74 \\uBA87 \\uAC00\\uC9C0 interface\\uB4E4\\uC774 \\uC0DD\\uC131\\uB429\\uB2C8\\uB2E4. \\uC6B0\\uC120 \\uAC01\\uAC01\\uC758 interface\\uAC00 \\uC5B4\\uB5A4 \\uAC12\\uB4E4\\uC744 \\uC758\\uBBF8\\uD558\\uB294 \\uC9C0\\uC5D0 \\uB300\\uD574\\uC11C \\uC774\\uD574\\uAC00 \\uD544\\uC694\\uD569\\uB2C8\\uB2E4. paths\\uC640 operations\\uB97C \\uC81C\\uC678\\uD558\\uACE0 \\uB2E4\\uB978 type\\uB4E4\\uB3C4 \\uC0DD\\uC131\\uC774 \\uB418\\uC9C0\\uB9CC \\uC800\\uB294 \\uC8FC\\uB85C paths\\uC640 operations\\uB9CC \\uCC38\\uACE0\\uD574\\uC11C \\uC0AC\\uC6A9\\uD588\\uC2B5\\uB2C8\\uB2E4.\"}),(0,e.jsx)(n.pre,{children:(0,e.jsxs)(n.code,{className:\"code-highlight\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`* paths interface\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  - \\uC694\\uCCAD api endpoint(ex. /api/gen/clients)\\uB97C \\uD0A4\\uB85C\\uD558\\uACE0 \\uC5B4\\uB5A4 method\\uB4E4\\uC744 \\uC9C0\\uC6D0\\uD558\\uACE0 \\uAC01 method\\uB294 \\uC5B4\\uB5A4 response\\uB97C return\\uD558\\uB294\\uC9C0\\uC5D0 \\uB300\\uD55C interface\\uC785\\uB2C8\\uB2E4.\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`* operations interface\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  - paths\\uC5D0\\uC11C \\uAC01 method\\uB4E4\\uC758 parameters(path, query)\\uC640 response\\uC5D0 \\uB300\\uD55C type\\uB4E4\\uC744 \\uBAA8\\uC544\\uB450\\uACE0 \\uC788\\uB294 interface\\uC785\\uB2C8\\uB2E4.\n`})]})}),(0,e.jsx)(n.p,{children:\"\\xA0\\uB2E4\\uC74C\\uC73C\\uB85C react-query\\uC758 useQuery\\uC758 key\\uAC12\\uC744 \\uB9E4\\uBC88 \\uC9C1\\uC811 \\uC9C0\\uC815\\uD574\\uC8FC\\uAE30 \\uADC0\\uCC2E\\uAE30 \\uB54C\\uBB38\\uC5D0 queryKey\\uB85C paths\\uC758 key\\uB85C \\uC0AC\\uC6A9\\uD558\\uACE0, \\uADF8 \\uAC12\\uC744 \\uAE30\\uC900\\uC73C\\uB85C params, body, response type, error type \\uB4F1\\uC744 \\uCD94\\uB860\\uD558\\uB3C4\\uB85D \\uB9CC\\uB4E4\\uAE30 \\uC704\\uD574\\uC11C\\uB294 util\\uC131\\uC758 \\uD0C0\\uC785\\uB4E4\\uC744 \\uBA3C\\uC800 \\uC791\\uC5C5\\uD574\\uC57C \\uD588\\uC2B5\\uB2C8\\uB2E4. \\uC774 utils\\uC131 \\uD0C0\\uC785\\uB4E4\\uC740 openapi-typescript\\uAC00 \\uC0DD\\uC131\\uD574\\uC900 type\\uB4E4\\uC5D0\\uC11C \\uD544\\uC694\\uD55C key\\uB4E4\\uB9CC\\uC744 select\\uD558\\uAC70\\uB098 parameters \\uD639\\uC740 response\\uC758 type\\uB97C \\uCD94\\uB860\\uD558\\uAE30 \\uC704\\uD574\\uC11C \\uB2E4\\uC74C\\uACFC \\uAC19\\uC774 \\uC791\\uC5C5\\uD588\\uC2B5\\uB2C8\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-ts\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token constant\",children:\"O\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'ts-toolbelt'\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" paths \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'./types'\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC0DD\\uC131\\uB41C paths interface\\uC758 \\uBAA8\\uB4E0 \\uD0A4\\uB4E4\\uC758 type\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token class-name\",children:(0,e.jsx)(n.span,{className:\"token keyword\",children:\"export\"})}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"OAIPathKeys\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"keyof\"}),` paths\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC8FC\\uB85C \\uC0AC\\uC6A9\\uB418\\uB294 api method\\uB4E4\\uC5D0 \\uB300\\uD55C type\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token class-name\",children:(0,e.jsx)(n.span,{className:\"token keyword\",children:\"export\"})}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"OAIMethods\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'get'\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"|\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'put'\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"|\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'post'\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"|\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'delete'\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"|\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'patch'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uD2B9\\uC815 method\\uAC00 \\uC874\\uC7AC\\uD558\\uB294 paths key\\uB4E4\\uB9CC \\uBF51\\uAE30 \\uC704\\uD55C type\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token class-name\",children:(0,e.jsx)(n.span,{className:\"token keyword\",children:\"export\"})}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,e.jsxs)(n.span,{className:\"token class-name\",children:[\"OAIMethodPathKeys\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"TMethod \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"extends\"}),\" OAIMethods\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token constant\",children:\"O\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"SelectKeys\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  paths\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  Record\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"TMethod\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"unknown\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uD2B9\\uC815 paths, method\\uC5D0 \\uD574\\uB2F9\\uB418\\uB294 path parameters type (api params\\uC5D0 \\uB300\\uD55C type)\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,e.jsxs)(n.span,{className:\"token class-name\",children:[\"OAIPathParameters\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"TPath \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"extends\"}),\" OAIPathKeys\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" TMethod \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"extends\"}),\" OAIMethods\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token constant\",children:\"O\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Path\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  paths\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"TPath\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" TMethod\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'parameters'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'path'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uD2B9\\uC815 paths, method\\uC5D0 \\uD574\\uB2F9\\uB418\\uB294 query parameters type (api querystring\\uC5D0 \\uB300\\uD55C type)\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,e.jsxs)(n.span,{className:\"token class-name\",children:[\"OAIQueryParameters\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"TPath \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"extends\"}),\" OAIPathKeys\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" TMethod \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"extends\"}),\" OAIMethods\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token constant\",children:\"O\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Path\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  paths\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"TPath\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" TMethod\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'parameters'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'query'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// react-query\\uC758 variables\\uB85C params, querystring\\uC744 \\uD1B5\\uD569\\uD574\\uC11C \\uBC1B\\uC544\\uC11C \\uC0AC\\uC6A9\\uD558\\uAE30 \\uC704\\uD55C type\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token class-name\",children:(0,e.jsx)(n.span,{className:\"token keyword\",children:\"export\"})}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,e.jsxs)(n.span,{className:\"token class-name\",children:[\"OAIParameters\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),`\n`]})]}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsxs)(n.span,{className:\"token class-name\",children:[\"  TPath \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"extends\"}),\" OAIPathKeys\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsxs)(n.span,{className:\"token class-name\",children:[\"  TMethod \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"extends\"}),` OAIMethods\n`]})}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token class-name\",children:(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"})}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" OAIPathParameters\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"TPath\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" TMethod\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"extends\"}),\" \",(0,e.jsxs)(n.span,{className:\"token class-name\",children:[\"Record\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"unknown\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"})]}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),\" OAIQueryParameters\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"TPath\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" TMethod\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"extends\"}),\" \",(0,e.jsxs)(n.span,{className:\"token class-name\",children:[\"Record\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"unknown\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"})]}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),\" \",(0,e.jsx)(n.span,{className:\"token constant\",children:\"O\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Merge\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"OAIPathParameters\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"TPath\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" TMethod\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" OAIQueryParameters\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"TPath\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" TMethod\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" OAIPathParameters\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"TPath\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" TMethod\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" OAIQueryParameters\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"TPath\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" TMethod\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"extends\"}),\" \",(0,e.jsxs)(n.span,{className:\"token class-name\",children:[\"Record\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"unknown\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"})]}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),\" OAIQueryParameters\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"TPath\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" TMethod\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"undefined\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uD2B9\\uC815 path, method\\uC758 statusCode 200\\uC5D0 \\uB300\\uD55C response type\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token class-name\",children:(0,e.jsx)(n.span,{className:\"token keyword\",children:\"export\"})}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,e.jsxs)(n.span,{className:\"token class-name\",children:[\"OAIResponse\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"TPath \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"extends\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"keyof\"}),\" paths\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" TMethod \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"extends\"}),\" OAIMethods\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token constant\",children:\"O\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"Path\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  paths\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC544\\uB798\\uC758 path\\uB294 \\uC8FC\\uC5B4\\uC9C4 OpenApi Specs\\uC5D0 \\uB530\\uB77C\\uC11C \\uB2EC\\uB77C\\uC9C8 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"TPath\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" TMethod\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'responses'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"200\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'schema'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\xA0\\uB2E4\\uC74C\\uC73C\\uB85C, \\uC704\\uC5D0 \\uC791\\uC131\\uD55C utils\\uC131 type\\uB4E4\\uC744 \\uD65C\\uC6A9\\uD574\\uC11C react-query\\uC758 useQuery\\uC758 type\\uC744 \\uD655\\uC7A5\\uD574\\uC8FC\\uB294 useOAIQuery\\uB77C\\uB294 hook\\uC744 \\uB9CC\\uB4E4\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-ts\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-ts\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" UseQueryOptions \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'react-query'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" useQuery \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'react-query'\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// BASE_URL\\uC740 \\uC694\\uCCAD\\uD574\\uC57C\\uD558\\uB294 \\uC11C\\uBC84\\uC758 \\uC8FC\\uC18C\\uB85C \\uBCC0\\uACBD \\uD544\\uC694\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token constant\",children:\"BASE_URL\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'https://api.openapi-generator.tech'\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// useQuery\\uC5D0 \\uC804\\uB2EC\\uD55C queryKey, variables\\uB97C requestUrl\\uB85C \\uB9CC\\uB4E4\\uAE30 \\uC704\\uD55C utils\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token function function-variable\",children:\"getRequestUrl\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"queryKey\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" variables\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" Record\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"unknown\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" url \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,e.jsxs)(n.span,{className:\"token interpolation\",children:[(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"${\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"BASE_URL\"}),(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"}\"})]}),(0,e.jsxs)(n.span,{className:\"token interpolation\",children:[(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"${\"}),\"queryKey\",(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"}\"})]}),(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"})]}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" paramKeys \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"queryKey\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"match\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token regex\",children:[(0,e.jsx)(n.span,{className:\"token regex-delimiter\",children:\"/\"}),(0,e.jsxs)(n.span,{className:\"token language-regex regex-source\",children:[\"{\",(0,e.jsxs)(n.span,{className:\"token char-class\",children:[(0,e.jsx)(n.span,{className:\"token punctuation char-class-punctuation\",children:\"[\"}),(0,e.jsxs)(n.span,{className:\"token range\",children:[\"a\",(0,e.jsx)(n.span,{className:\"token operator range-punctuation\",children:\"-\"}),\"z\"]}),(0,e.jsxs)(n.span,{className:\"token range\",children:[\"A\",(0,e.jsx)(n.span,{className:\"token operator range-punctuation\",children:\"-\"}),\"z\"]}),\"-\",(0,e.jsx)(n.span,{className:\"token punctuation char-class-punctuation\",children:\"]\"})]}),(0,e.jsx)(n.span,{className:\"token number quantifier\",children:\"+\"}),\"}\"]}),(0,e.jsx)(n.span,{className:\"token regex-delimiter\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token regex-flags\",children:\"g\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"??\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"map\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"param\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    param\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"replace\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token regex\",children:[(0,e.jsx)(n.span,{className:\"token regex-delimiter\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token language-regex regex-source\",children:(0,e.jsxs)(n.span,{className:\"token char-class\",children:[(0,e.jsx)(n.span,{className:\"token punctuation char-class-punctuation\",children:\"[\"}),\"{}\",(0,e.jsx)(n.span,{className:\"token punctuation char-class-punctuation\",children:\"]\"})]})}),(0,e.jsx)(n.span,{className:\"token regex-delimiter\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token regex-flags\",children:\"g\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"''\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  paramKeys\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"forEach\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"param\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    url \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" url\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"replace\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"{\"}),(0,e.jsxs)(n.span,{className:\"token interpolation\",children:[(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"${\"}),\"param\",(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"}\"})]}),(0,e.jsx)(n.span,{className:\"token string\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" variables\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?.\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"param\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"as\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" qs \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"URLSearchParams\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    Object\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"entries\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"variables \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"??\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"reduce\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"current\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"key\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" value\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"paramKeys\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"includes\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"key\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),` current\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"...\"}),\"current\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"key\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" value\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"toString\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"qs\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    url \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,e.jsxs)(n.span,{className:\"token interpolation\",children:[(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"${\"}),\"url\",(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"}\"})]}),(0,e.jsx)(n.span,{className:\"token string\",children:\"?\"}),(0,e.jsxs)(n.span,{className:\"token interpolation\",children:[(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"${\"}),\"qs\",(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"}\"})]}),(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"})]}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),` url\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC704\\uC5D0 \\uC0DD\\uC131\\uD55C types, utils\\uC744 \\uD65C\\uC6A9\\uD558\\uC5EC useQuery\\uB97C wrapping\\uD558\\uACE0 \\uC788\\uB294 useOAIQuery\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsxs)(n.span,{className:\"token generic-function\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"useOAIQuery\"}),(0,e.jsxs)(n.span,{className:\"token class-name generic\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),`\n`]})]})]}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token generic-function\",children:(0,e.jsxs)(n.span,{className:\"token class-name generic\",children:[\"  TQueryKey \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"extends\"}),\" OAIMethodPathKeys\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'get'\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]})})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token generic-function\",children:(0,e.jsxs)(n.span,{className:\"token class-name generic\",children:[\"  TVariables \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"extends\"}),\" OAIParameters\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"TQueryKey\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'get'\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]})})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token generic-function\",children:(0,e.jsxs)(n.span,{className:\"token class-name generic\",children:[\"  TData \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"extends\"}),\" OAIResponse\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"TQueryKey\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'get'\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]})})}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token generic-function\",children:(0,e.jsx)(n.span,{className:\"token class-name generic\",children:(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"})})}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  queryKey\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  queryOptions\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  variables\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  queryKey\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),` TQueryKey\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  queryOptions\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" Omit\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    UseQueryOptions\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"TData\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"unknown\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" TData\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"Record\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token builtin\",children:\"string\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token builtin\",children:\"unknown\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"|\"}),\" TQueryKey \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"|\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"undefined\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'queryKey'\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"|\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'queryFn'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u0026\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"TVariables \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"extends\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:(0,e.jsx)(n.span,{className:\"token keyword\",children:\"undefined\"})}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      variables\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"undefined\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token constant\",children:\"O\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"RequiredKeys\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"NonNullable\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"TVariables\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"extends\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:(0,e.jsx)(n.span,{className:\"token builtin\",children:\"never\"})}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      variables\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),` TVariables\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      variables\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),` TVariables\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"useQuery\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"queryKey\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" variables\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" signal \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" response \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"await\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"fetch\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"getRequestUrl\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"queryKey\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" variables\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        signal\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),\"response\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),\"ok\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"throw\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Error\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'Response error'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" json \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"await\"}),\" response\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"json\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"as\"}),` TData\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),` json\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    queryOptions\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"\\xA0\\uC704\\uC640 \\uAC19\\uC774 util types, util \\uD568\\uC218, useOAIQuery \\uB4F1\\uC744 \\uB9CC\\uB4E4\\uC5B4 \\uB450\\uACE0 \\uC2E4\\uC81C\\uB85C \\uC0AC\\uC6A9\\uD55C\\uB2E4\\uBA74 \\uB9E4\\uBC88 react-query\\uC758 key\\uB97C \\uC5B4\\uB5BB\\uAC8C \\uC9C0\\uC815\\uD574\\uC57C\\uD560 \\uC9C0 \\uACE0\\uBBFC\\uD558\\uC9C0 \\uC54A\\uC544\\uB3C4 \\uB418\\uACE0, type\\uC744 \\uC815\\uD655\\uD558\\uAC8C \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uC644\\uC804\\uD55C \\uCF54\\uB4DC \\uC2A4\\uB2C8\\uD3AB\\uC744 \\uBCF4\\uACE0 \\uC2F6\\uC73C\\uC2E0 \\uBD84\\uC740 \",(0,e.jsx)(n.a,{href:\"https://gist.github.com/seonghyeonkimm/977b58387f9f4e11afeee8c7685c2e89#file-1-use-oai-query-example-ts\",children:\"\\uC544\\uB798 \\uB9C1\\uD06C\"}),\"\\uB97C \\uD655\\uC778\\uD574\\uC8FC\\uC138\\uC694.\"]}),(0,e.jsx)(n.p,{children:\"\\xA0\\uC774 \\uAE00\\uC5D0\\uC11C \\uC608\\uC2DC\\uB85C \\uC801\\uC740 \\uCF54\\uB4DC\\uB4E4\\uC740 \\uC2E4\\uC81C\\uB85C \\uC0AC\\uC6A9\\uD558\\uACE0 \\uC788\\uB294 \\uCF54\\uB4DC\\uC640\\uB294 \\uC870\\uAE08 \\uCC28\\uC774\\uAC00 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uC6B0\\uC120, \\uCD5C\\uB300\\uD55C \\uC81C\\uAC00 \\uC804\\uB2EC\\uD558\\uACE0\\uC790 \\uD558\\uB294 \\uB0B4\\uC6A9\\uB4E4\\uC744 \\uC124\\uBA85\\uD558\\uAE30\\uC5D0 \\uBD80\\uC871\\uD568\\uC774 \\uC5C6\\uACE0 \\uC791\\uB3D9\\uD558\\uB294 \\uCF54\\uB4DC\\uB97C \\uBCF4\\uC5EC\\uB4DC\\uB9AC\\uAE30 \\uC704\\uD574\\uC11C \\uCD5C\\uB300\\uD55C \\uAC04\\uACB0\\uD558\\uAC8C \\uC815\\uB9AC\\uD558\\uC5EC\\uC11C \\uACF5\\uC720\\uD588\\uC2B5\\uB2C8\\uB2E4 (\\uC5EC\\uC804\\uD788 \\uC81C \\uC2E4\\uB825\\uC774 \\uBD80\\uC871\\uD558\\uC5EC \\uBCF5\\uC7A1\\uD558\\uAE34 \\uD569\\uB2C8\\uB2E4.). \\uC81C\\uAC00 \\uACF5\\uC720\\uD55C \\uCF54\\uB4DC \\uC2A4\\uB2C8\\uD3AB\\uB4E4\\uC774 \\uBC14\\uB85C \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uB294 \\uC218\\uC900\\uAE4C\\uC9C0\\uB294 \\uB9CE\\uC740 \\uBCF4\\uC644\\uC774 \\uD544\\uC694\\uD560 \\uC218 \\uC788\\uACA0\\uC9C0\\uB9CC rest api\\uC640 \\uD1B5\\uC2E0\\uD558\\uB294 \\uC791\\uC5C5\\uC744 \\uC9C4\\uD589\\uD558\\uC2E4 \\uB54C\\uC5D0 type safe\\uD558\\uAC8C server state\\uB97C \\uAD00\\uB9AC\\uD558\\uACE0 \\uC2F6\\uACE0 react-query\\uB098 swc\\uB97C \\uC0AC\\uC6A9\\uD560 \\uB54C\\uC5D0 key\\uB97C \\uB9E4\\uBC88 \\uC9C1\\uC811 \\uC801\\uC5B4\\uC8FC\\uB294 \\uBD88\\uD3B8\\uD568\\uC744 \\uB290\\uB07C\\uACE0 \\uACC4\\uC2E0 \\uBD84\\uB4E4\\uC5D0\\uAC8C \\uD558\\uB098\\uC758 \\uC544\\uC774\\uB514\\uC5B4\\uB098 \\uB3C4\\uC6C0\\uC774 \\uC870\\uAE08\\uC774\\uB77C\\uB3C4 \\uB420 \\uC218 \\uC788\\uC73C\\uBA74 \\uC88B\\uACA0\\uC2B5\\uB2C8\\uB2E4.\"})]})}}var f=w;return O;})();\n;return Component;"},"_id":"blog/openapi-typescript-typesafe-react-query.mdx","_raw":{"sourceFilePath":"blog/openapi-typescript-typesafe-react-query.mdx","sourceFileName":"openapi-typescript-typesafe-react-query.mdx","sourceFileDir":"blog","contentType":"mdx","flattenedPath":"blog/openapi-typescript-typesafe-react-query"},"type":"Blog","readingTime":{"text":"5 min read","minutes":4.69,"time":281400,"words":938},"slug":"openapi-typescript-typesafe-react-query","toc":[]},"authorDetails":[{"name":"Seonghyeon Kim","avatar":"/static/images/avatar.png","occupation":"Software Engineer","company":"당근마켓","email":"impressor7@gmail.com","twitter":"https://twitter.com/seonghyeon___","linkedin":"https://www.linkedin.com/in/seonghyeon-kim-328757b7/","github":"https://github.com/seonghyeonkimm","type":"Authors","readingTime":{"text":"7 min read","minutes":6.705,"time":402300,"words":1341},"slug":"default","toc":[{"value":"Introduction","url":"#introduction","depth":2},{"value":"Experiences","url":"#experiences","depth":2},{"value":"당근마켓","url":"#당근마켓","depth":3},{"value":"간편모드 광고","url":"#간편모드-광고","depth":4},{"value":"당근마켓 전문가모드 광고","url":"#당근마켓-전문가모드-광고","depth":4},{"value":"프론트엔드 팀 SDK","url":"#프론트엔드-팀-sdk","depth":4},{"value":"BFF","url":"#bff","depth":3},{"value":"기타","url":"#기타","depth":4},{"value":"한국신용데이터","url":"#한국신용데이터","depth":3},{"value":"MMP(Marketing Management Platform) 사내 공용 라이브러리","url":"#mmpmarketing-management-platform-사내-공용-라이브러리","depth":4},{"value":"캐시노트마켓","url":"#캐시노트마켓","depth":4},{"value":"캐시노트마켓 파트너센터","url":"#캐시노트마켓-파트너센터","depth":4},{"value":"캐시노트 신용점수조회","url":"#캐시노트-신용점수조회","depth":4},{"value":"캐시노트 2.0","url":"#캐시노트-20","depth":4},{"value":"티페이","url":"#티페이","depth":3},{"value":"가맹점 관리/계약 어드민","url":"#가맹점-관리계약-어드민","depth":4},{"value":"스타일쉐어","url":"#스타일쉐어","depth":3},{"value":"인앱 검색 서비스","url":"#인앱-검색-서비스","depth":4},{"value":"웹 스토어 리뉴얼","url":"#웹-스토어-리뉴얼","depth":4},{"value":"아파트멘터리","url":"#아파트멘터리","depth":3},{"value":"랜딩페이지","url":"#랜딩페이지","depth":4},{"value":"시공 및 커머스를 위한 백오피스","url":"#시공-및-커머스를-위한-백오피스","depth":4},{"value":"상품 정보 크롤링 크롬 익스텐션","url":"#상품-정보-크롤링-크롬-익스텐션","depth":4},{"value":"인테리어 상품 커머스","url":"#인테리어-상품-커머스","depth":4},{"value":"스포카","url":"#스포카","depth":3},{"value":"전사 데이터 대시보드 구성","url":"#전사-데이터-대시보드-구성","depth":4},{"value":"계약서비스 개발","url":"#계약서비스-개발","depth":4},{"value":"데이터 추출을 위한 쿼리 작성","url":"#데이터-추출을-위한-쿼리-작성","depth":4},{"value":"Communities","url":"#communities","depth":2},{"value":"Presentations","url":"#presentations","depth":3},{"value":"Lecture","url":"#lecture","depth":3},{"value":"Education","url":"#education","depth":2},{"value":"경희대학교","url":"#경희대학교","depth":3}]}],"prev":{"title":"React 18 미리보기","date":"2022-02-10T00:00:00.000Z","tags":["react"],"draft":false,"summary":"React 18을 쓰기 시작한지는 꽤 되었지만 제대로 이해하지 못한 부분들이 많아서 다시 조금 더 꼼꼼히 공부하고 기록했습니다.","type":"Blog","readingTime":{"text":"7 min read","minutes":6.305,"time":378300,"words":1261},"slug":"react-18-preview","toc":[{"value":"즉시 사용 가능한 개선점","url":"#즉시-사용-가능한-개선점","depth":2},{"value":"Automatic batching for fewer renders","url":"#automatic-batching-for-fewer-renders","depth":3},{"value":"SSR support for Suspense","url":"#ssr-support-for-suspense","depth":3},{"value":"Behavioral changes to Suspense in React 18","url":"#behavioral-changes-to-suspense-in-react-18","depth":3},{"value":"Concurrent features","url":"#concurrent-features","depth":2},{"value":"New StrictMode (StrictMode + StrictEffect) - 링크","url":"#new-strictmode-strictmode--stricteffect---링크","depth":2}]},"next":{"title":"Reactathon 2022에서 흥미로웠던 발표","date":"2022-06-01T00:00:00.000Z","tags":["react","remix"],"draft":false,"summary":"Reactathon에서 가장 감명 깊었던 두 가지 영상에 대한 나의 이해를 정리한다.","type":"Blog","readingTime":{"text":"3 min read","minutes":2.08,"time":124800,"words":416},"slug":"reactathon-2022","toc":[{"value":"TL;DR","url":"#tldr","depth":3},{"value":"TL;DR","url":"#tldr","depth":3}]}},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["openapi-typescript-typesafe-react-query"]},"buildId":"oL9nDpTRuQZFnDP3nk56S","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>