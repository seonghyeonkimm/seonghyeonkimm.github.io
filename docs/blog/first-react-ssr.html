<!DOCTYPE html><html lang="ko" class="scroll-smooth"><head><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><meta content="width=device-width, initial-scale=1" name="viewport"/><title>React SSR하는 세 가지 방법 (1)</title><meta name="robots" content="follow, index"/><meta name="description" content="React SSR을 어떻게 하는 것이 가장 합리적일까. 현재 나의 지식 안에서 가장 합리적이라고 생각하는 총 3가지 중 첫 번째에 대한 내용을 정리했다."/><meta property="og:url" content="https://seonghyeonkimm.github.io//blog/first-react-ssr"/><meta property="og:type" content="article"/><meta property="og:site_name" content="Seonghyeon Kim"/><meta property="og:description" content="React SSR을 어떻게 하는 것이 가장 합리적일까. 현재 나의 지식 안에서 가장 합리적이라고 생각하는 총 3가지 중 첫 번째에 대한 내용을 정리했다."/><meta property="og:title" content="React SSR하는 세 가지 방법 (1)"/><meta property="og:image" content="https://seonghyeonkimm.github.io//static/images/og-card.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="https://x.com/seonghyeon___"/><meta name="twitter:title" content="React SSR하는 세 가지 방법 (1)"/><meta name="twitter:description" content="React SSR을 어떻게 하는 것이 가장 합리적일까. 현재 나의 지식 안에서 가장 합리적이라고 생각하는 총 3가지 중 첫 번째에 대한 내용을 정리했다."/><meta name="twitter:image" content="https://seonghyeonkimm.github.io//static/images/og-card.png"/><link rel="canonical" href="https://seonghyeonkimm.github.io//blog/first-react-ssr"/><meta property="article:published_time" content="2020-01-07T00:00:00.000Z"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://seonghyeonkimm.github.io//blog/first-react-ssr"
  },
  "headline": "React SSR하는 세 가지 방법 (1)",
  "image": [
    {
      "@type": "ImageObject",
      "url": "https://seonghyeonkimm.github.io//static/images/og-card.png"
    }
  ],
  "datePublished": "2020-01-07T00:00:00.000Z",
  "dateModified": "2020-01-07T00:00:00.000Z",
  "author": [
    {
      "@type": "Person"
    }
  ],
  "publisher": {
    "@type": "Organization",
    "name": "Seonghyeon Kim",
    "logo": {
      "@type": "ImageObject",
      "url": "https://seonghyeonkimm.github.io//static/images/logo.png"
    }
  },
  "description": "React SSR을 어떻게 하는 것이 가장 합리적일까. 현재 나의 지식 안에서 가장 합리적이라고 생각하는 총 3가지 중 첫 번째에 대한 내용을 정리했다."
}</script><meta name="next-head-count" content="20"/><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" content="#000000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="preload" href="/_next/static/css/19c7d5d6c70b779f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/19c7d5d6c70b779f.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-51f5716a975af4ab.js" defer=""></script><script src="/_next/static/chunks/main-4ef043329e44a116.js" defer=""></script><script src="/_next/static/chunks/pages/_app-5234d2fcb5d683fc.js" defer=""></script><script src="/_next/static/chunks/170-510ab59698f42a3e.js" defer=""></script><script src="/_next/static/chunks/913-1d8c22d084049560.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slug%5D-0051806e725ec9a7.js" defer=""></script><script src="/_next/static/6Krvmak2ov-qcCHuSyM4j/_buildManifest.js" defer=""></script><script src="/_next/static/6Krvmak2ov-qcCHuSyM4j/_ssgManifest.js" defer=""></script><script src="/_next/static/6Krvmak2ov-qcCHuSyM4j/_middlewareManifest.js" defer=""></script></head><body class="bg-white text-black antialiased dark:bg-gray-900 dark:text-white"><div id="__next" data-reactroot=""><noscript><iframe title="gtm-iframe" height="0" width="0" style="display:none;visibility:hidden" src="https://www.googletagmanager.com/ns.html?id=GTM-KJNTQFR"></iframe></noscript><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="flex h-screen flex-col justify-between"><header class="flex items-center justify-between py-10"><div><a aria-label="Seonghyeon Kim" href="/"><div class="flex items-center justify-between"><div class="hidden h-6 text-2xl font-semibold sm:block">Seonghyeon Kim</div></div></a></div><div class="flex items-center text-base leading-5"><div class="hidden sm:block"><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/blog">Blog</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/tags">Tags</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/about/ko">About</a></div><button aria-label="Toggle Dark Mode" type="button" class="ml-1 mr-1 h-8 w-8 rounded p-1 sm:ml-4"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button><div class="sm:hidden"><button type="button" class="ml-1 mr-1 h-8 w-8 rounded py-1" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed top-24 right-0 z-10 h-full w-full transform bg-gray-200 opacity-95 duration-300 ease-in-out dark:bg-gray-800 translate-x-full"><button type="button" aria-label="toggle modal" class="fixed h-full w-full cursor-auto focus:outline-none"></button><nav class="fixed mt-8 h-full"><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/blog">Blog</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tags">Tags</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/about/ko">About</a></div></nav></div></div></div></header><main class="mb-auto"><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="fixed right-8 bottom-8 hidden flex-col gap-3 md:hidden"><button aria-label="Scroll To Comment" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"></path></svg></button><button aria-label="Scroll To Top" type="button" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><article><div class="xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700"><header class="pt-6 xl:pb-6"><div class="space-y-1 text-center"><dl class="space-y-10"><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"><time dateTime="2020-01-07T00:00:00.000Z">2020년 1월 7일 화요일</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">React SSR하는 세 가지 방법 (1)</h1></div></div></header><div class="divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:grid xl:grid-cols-4 xl:gap-x-6 xl:divide-y-0" style="grid-template-rows:auto 1fr"><dl class="pt-6 pb-10 xl:border-b xl:border-gray-200 xl:pt-11 xl:dark:border-gray-700"><dt class="sr-only">Authors</dt><dd><ul class="flex justify-center space-x-8 sm:space-x-12 xl:block xl:space-x-0 xl:space-y-8"><li class="flex items-center space-x-2"><dl class="whitespace-nowrap text-sm font-medium leading-5"><dt class="sr-only">Name</dt><dd class="text-gray-900 dark:text-gray-100"></dd><dt class="sr-only">X</dt><dd></dd></dl></li></ul></dd></dl><div class="divide-y divide-gray-200 dark:divide-gray-700 xl:col-span-3 xl:row-span-2 xl:pb-0"><div class="prose max-w-none pt-10 pb-8 dark:prose-dark"><h2 id="nextjs를-사용해서-ssr을-하면서-부딪힌-문제-상황"><a href="#nextjs를-사용해서-ssr을-하면서-부딪힌-문제-상황" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Next.js를 사용해서 SSR을 하면서 부딪힌 문제 상황</h2><p>  최근에 회사에서 웹 개편을 시작하면서 큼지막한 기술의 틀은 다음과 같이 정했었다. UI Framework로는 React, Styling을 위해서는 Styled-Component, SSR(Server-side rendering)을 하기 위하여 Next.js까지. 다른 많은 라이브러리들도 사용했지만 주요 뼈대는 위와 같이 결정했고, 세팅부터 페이지 작업까지 열심히 달렸고 하나의 페이지를 위의 기술들을 사용하여 유저들에게 배포했다. 초반에는 큰 이슈 없이 정착하여 다른 페이지들까지 빠르게 이 프로젝트로 옮겨와야지라고 생각하며 열정을 불태우던 그 즈음. 몇몇 가지 문제들이 내부적으로 인식되었다. 그 당시에도 정확하게 글로 어떤 문제점이 있다라고 문서화를 하진 못했지만, 지금에서라도 정리해보면 다음과 같았다.</p><ul><li>해외에서 요청을 한다든지 혹은 특정 시간에 <code>next.js의 응답이 느려지는 순간</code>이 있다.</li><li>그로 인하여, 이벤트나 특정 이유 때문에 traffic이 급작스럽게 몰렸을 경우 <code>next.js가 잘 견뎌 내지 못할 것이라는 걱정들이 많았고 실제로 굉장히 연약</code>했다.</li><li>하지만, 내부 인력들 중에서는 <code>node.js 서버에 대한 인프라 관리에 대한 경험치를 일정 수준 가지고 있는 사람이 없었다.</code></li><li>그러므로, <code>프론트엔드 관련해서는 infra 관리를 최소화</code>하고 싶다.</li></ul><h2 id="새로운-ssr방식-시도"><a href="#새로운-ssr방식-시도" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>새로운 SSR방식 시도</h2><p>  하지만, 커머스를 하고 있는 입장에서 모든 페이지를 SPA로만 구현하고 그것에만 의존하자라는 결정을 할 순 없었다. 왜냐하면, 요즘은 사실 그렇게 크게 신경쓰지 않아도 검색엔진들이 잘 해주고 있지만 SEO를 최대한 보장받고 싶었다. 두 번째로는 마케팅이나 외부 플랫폼에 공유했을 때에 SPA처럼 무조건 하나의 메타 정보만을 보여 주어서는 안 되었다. node 서버나 infra에 대해서 어느 정도 노하우도 조금 생기고 익숙해져 갈 무렵, 리서치와 회의 끝에 이 글에서 설명할 첫 번째 방법으로의 변화를 시도해보기로 결정했다. 두 번째나 세 번째는 아직 회사에서도 개인적으로 시도해보진 않았지만 첫 번째 방법에 대한 복습을 이 글과 함께 시작 해보고 두 번째, 세 번째 방법도 나름 직접 구현해보고 마지막에 어떤 것이 스스로 생각했을 때에 현재로서 가장 합리적인 방법인가에 대한 답을 내려보고자 한다. 현재 나의 지식 안에서 가장 합리적일 거라고 생각하는 3가지는 다음과 같다.</p><blockquote><ol><li><code>nginx + react + express (with puppeteer)</code> - <a target="_blank" rel="noopener noreferrer" href="https://github.com/seonghyeonkimm/nginx-react-prerender">참고 repository</a> <br/></li><li>next.js의 serverless - <a target="_blank" rel="noopener noreferrer" href="https://seonghyeonkimm.github.io/second-react-ssr/">블로그 링크</a> <br/></li><li>(coming soon) cloudFront + lambda@edge <br/></li></ol></blockquote><p>  즉, 첫 번째 방식은 nginx가 요청을 받고 userAgent를 통해서 request가 bot에 의한 것인지 아닌 지에 따라서 다른 response를 하는 방식이다. bot의 요청이라면 puppeteer가 브라우저를 띄워서 실제 html이 다 완성되었을 시기의 html을 캐시하고 보내도록 만들어 둔 express서버로 요청을 전달하고, 그렇지 않은 경우에는 로컬 머신에 가지고 있는 index.html이든 cloudFront에 올려져 있는 index.html이든 간에 그냥 index.html파일을 내려 준다. 작업을 하다 보니 경험적으로 느낀 것은 로컬 머신에 있는 index.html을 내려주게 되면 배포 과정에서 실제 server 코드에 대한 배포가 필요 없는 경우에도 배포를 해야 할 수 있기 때문에 빌드된 결과물을 s3에 올려두고 cloudFront에서 서빙하는 것이 더 빠른 개발과 배포에 좋을 듯 하다. 실제로 위에 언급한 방식을 간단히 그림을 그려 보면 다음과 같다.</p><div><img alt="nginx-react-prerender" src="/static/images/first-react-ssr-diagram.png" width="1157" height="483"/></div><p>  실제 infra까지 구성한 것은 아니지만, client와 server를 나누어서 직접 로컬에서 간단히 작동하는 수준까지만 작업해보았다. 연습 삼아 작성해본 코드는 위에 링크 혹은 이 <a target="_blank" rel="noopener noreferrer" href="https://github.com/seonghyeonkimm/nginx-react-prerender">repository</a>에서 확인할 수 있다. client라는 폴더에는 그냥 create-react-app과 react-router-dom을 활용한 간단히 테스트를 위해 필요한 react SPA를 구성했다. 그리고 server폴더에는 puppeteer를 사용해서 직접 해당 path에 대한 html을 chrome에서 동작시켜서 <code>window.prerenderReady</code>라는 전역변수가 <code>true</code>가 되는 시점에 html content를 bot에게 return하는 express서버 코드와 bot을 판별해 index.html을 그냥 내려줄 지 아니면 express server로 보낼 지 판단하는 간단한 <code>nginx.conf</code>가 있다.</p><h2 id="스스로-생각해보는-장단점-및-결론"><a href="#스스로-생각해보는-장단점-및-결론" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>스스로 생각해보는 장단점 및 결론</h2><p>  next.js를 사용하다가 문제가 있어서 다른 방식을 고안했다는 사실이 next.js가 SSR을 하기에 부적절했다기보다 부끄럽지만 제대로 사용하지 못했던 것이라 생각한다. 커뮤니티는 점점 더 활발해지고 심지어 next.js는 진짜 빨리 업데이트가 된다. 그래서 개인적으로 좋아하는 편이다. 결국 내가 문제였던 것으로. 다시 next.js를 사용한다면 cache를 조금 더 세심하게 다룬다면 더 안정성있게 구현할 수 있지 않을까 아쉬움이 남기도 한다. 무엇이든 유일한 답이란 없고 자신이 풀어야 하는 문제에 가장 합리적인 방법을 선택해야하는 것 뿐이지만. 마지막으로 nginx를 활용한 SSR하는 방법에 대한 장단점을 간단히 정리해보았다.</p><h4 id="장점"><a href="#장점" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>장점</h4><ul><li>SPA를 개발하지만 SSR의 모든 장점을 같이 가져갈 수 있다.</li><li>어차피 bot에 대한 요청에만 실행되기 때문에 response time에 대해서 실제 유저가 사용할 때만큼 신경쓰지 않아도 된다. 그래서, 마음껏 SEO를 신경쓰면서 SSR을 할 수 있다. 모든 API가 끝난 결과를 cache하면 된다. (하지만, 요즘은 사실 검색엔진이 crawling을 알아서 잘 해준다.)</li><li>bot에 대한 요청에만 cache를 하기 때문에 cache의 조건이 사용자의 언어 정도까지만 생각하면 된다. (nextjs의 결과를 cache한다고하면 언어, 사용하는 기기, 로그인 여부 등등이 포함될 수 있는 가능성이 있다.)</li><li>S3에만 파일을 업로드하면 되기때문에 배포가 빠르다.</li></ul><h4 id="단점"><a href="#단점" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>단점</h4><ul><li>조금 더 단순하긴 하지만, 역시나 nginx와 express가 떠 있을 instance, 캐시를 위한 redis, 많아질 traffic에 대비할 오토스케일링 등 infra관리가 필요하다.</li></ul><p>  마지막으로 회사에서는 이 구성에 대해서 다른 동료 분이 구현해주셔서 직접 구현하지 않았지만 구현하시는 모습을 보면서 공부하는 마음으로 직접 구현을 해봐야 겠다는 마음을 들게 만들어 주시고 항상 좋은 조언과 에너지를 나눠 주시는 동료 분에게 감사한 마음을 전한다.</p><h2 id="참고한-글"><a href="#참고한-글" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>참고한 글</h2><ul><li><a target="_blank" rel="noopener noreferrer" href="https://developers.google.com/web/tools/puppeteer/articles/ssr">https://developers.google.com/web/tools/puppeteer/articles/ssr</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/prerender/prerender">https://github.com/prerender/prerender</a></li></ul></div><div class="pt-6 pb-6 text-sm text-gray-700 dark:text-gray-300"><a target="_blank" rel="nofollow" href="https://mobile.twitter.com/search?q=https%3A%2F%2Fseonghyeonkimm.github.io%2F%2Fblog%2Ffirst-react-ssr">Discuss on Twitter</a> • <a target="_blank" rel="noopener noreferrer" href="https://github.com/seonghyeonkimm/seonghyeonkimm.github.io/blob/master/data/blog/first-react-ssr">View on GitHub</a></div><div id="comment"></div></div><footer><div class="divide-gray-200 text-sm font-medium leading-5 dark:divide-gray-700 xl:col-start-1 xl:row-start-2 xl:divide-y"><div class="py-4 xl:py-8"><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Tags</h2><div class="flex flex-wrap"><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/react">react</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/ssr">ssr</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/nginx">nginx</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/prerender">prerender</a></div></div><div class="flex justify-between py-4 xl:block xl:space-y-8 xl:py-8"><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Previous Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/i-am-not-powerfull">내가 꿈꾸는 &#x27;파워풀&#x27;한 팀의 모습</a></div></div><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Next Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/second-react-ssr">React SSR하는 세 가지 방법 (2)</a></div></div></div></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog">← Back to the blog</a></div></footer></div></div></article></div></main><footer><div class="mt-16 flex flex-col items-center"><div class="mb-3 flex space-x-4"><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="mailto:impressor7@gmail.com"><span class="sr-only">mail</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M2.003 5.884 10 9.882l7.997-3.998A2 2 0 0 0 16 4H4a2 2 0 0 0-1.997 1.884z"></path><path d="m18 8.118-8 4-8-4V14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8.118z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://github.com/seonghyeonkimm"><span class="sr-only">github</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/seonghyeon-kim-328757b7/"><span class="sr-only">linkedin</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 0 1-2.063-2.065 2.064 2.064 0 1 1 2.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://x.com/seonghyeon___"><span class="sr-only">twitter</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></svg></a></div><div class="mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400"><div>Seonghyeon Kim</div><div> • </div><div>© 2025</div></div><div class="mb-8 text-sm text-gray-500 dark:text-gray-400"><a target="_blank" rel="noopener noreferrer" href="https://github.com/timlrx/tailwind-nextjs-starter-blog">Tailwind Nextjs Theme</a></div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"React SSR하는 세 가지 방법 (1)","date":"2020-01-07T00:00:00.000Z","tags":["react","ssr","nginx","prerender"],"draft":false,"summary":"React SSR을 어떻게 하는 것이 가장 합리적일까. 현재 나의 지식 안에서 가장 합리적이라고 생각하는 총 3가지 중 첫 번째에 대한 내용을 정리했다.","body":{"raw":"\n## Next.js를 사용해서 SSR을 하면서 부딪힌 문제 상황\n\n\u0026nbsp; 최근에 회사에서 웹 개편을 시작하면서 큼지막한 기술의 틀은 다음과 같이 정했었다. UI Framework로는 React, Styling을 위해서는 Styled-Component,\nSSR(Server-side rendering)을 하기 위하여 Next.js까지. 다른 많은 라이브러리들도 사용했지만 주요 뼈대는 위와 같이 결정했고, 세팅부터\n페이지 작업까지 열심히 달렸고 하나의 페이지를 위의 기술들을 사용하여 유저들에게 배포했다. 초반에는 큰 이슈 없이 정착하여 다른 페이지들까지 빠르게 이 프로젝트로 옮겨와야지라고 생각하며\n열정을 불태우던 그 즈음. 몇몇 가지 문제들이 내부적으로 인식되었다. 그 당시에도 정확하게 글로 어떤 문제점이 있다라고 문서화를 하진 못했지만, 지금에서라도 정리해보면 다음과 같았다.\n\n- 해외에서 요청을 한다든지 혹은 특정 시간에 `next.js의 응답이 느려지는 순간`이 있다.\n- 그로 인하여, 이벤트나 특정 이유 때문에 traffic이 급작스럽게 몰렸을 경우 `next.js가 잘 견뎌 내지 못할 것이라는 걱정들이 많았고 실제로 굉장히 연약`했다.\n- 하지만, 내부 인력들 중에서는 `node.js 서버에 대한 인프라 관리에 대한 경험치를 일정 수준 가지고 있는 사람이 없었다.`\n- 그러므로, `프론트엔드 관련해서는 infra 관리를 최소화`하고 싶다.\n\n## 새로운 SSR방식 시도\n\n\u0026nbsp; 하지만, 커머스를 하고 있는 입장에서 모든 페이지를 SPA로만 구현하고 그것에만 의존하자라는 결정을 할 순 없었다. 왜냐하면, 요즘은 사실 그렇게 크게 신경쓰지 않아도\n검색엔진들이 잘 해주고 있지만 SEO를 최대한 보장받고 싶었다. 두 번째로는 마케팅이나 외부 플랫폼에 공유했을 때에 SPA처럼 무조건 하나의 메타 정보만을 보여 주어서는\n안 되었다. node 서버나 infra에 대해서 어느 정도 노하우도 조금 생기고 익숙해져 갈 무렵, 리서치와 회의 끝에 이 글에서 설명할 첫 번째 방법으로의 변화를 시도해보기로 결정했다.\n두 번째나 세 번째는 아직 회사에서도 개인적으로 시도해보진 않았지만 첫 번째 방법에 대한 복습을 이 글과 함께 시작 해보고 두 번째, 세 번째 방법도 나름 직접 구현해보고 마지막에 어떤 것이 스스로 생각했을 때에\n현재로서 가장 합리적인 방법인가에 대한 답을 내려보고자 한다. 현재 나의 지식 안에서 가장 합리적일 거라고 생각하는 3가지는 다음과 같다.\n\n\u003e 1. `nginx + react + express (with puppeteer)` - [참고 repository](https://github.com/seonghyeonkimm/nginx-react-prerender) \u003cbr /\u003e\n\u003e 2. next.js의 serverless - [블로그 링크](https://seonghyeonkimm.github.io/second-react-ssr/) \u003cbr /\u003e\n\u003e 3. (coming soon) cloudFront + lambda@edge \u003cbr /\u003e\n\n\u0026nbsp; 즉, 첫 번째 방식은 nginx가 요청을 받고 userAgent를 통해서 request가 bot에 의한 것인지 아닌 지에 따라서 다른 response를 하는 방식이다.\nbot의 요청이라면 puppeteer가 브라우저를 띄워서 실제 html이 다 완성되었을 시기의 html을 캐시하고 보내도록 만들어 둔 express서버로 요청을 전달하고,\n그렇지 않은 경우에는 로컬 머신에 가지고 있는 index.html이든 cloudFront에 올려져 있는 index.html이든 간에 그냥 index.html파일을 내려 준다.\n작업을 하다 보니 경험적으로 느낀 것은 로컬 머신에 있는 index.html을 내려주게 되면 배포 과정에서 실제 server 코드에 대한 배포가 필요 없는 경우에도 배포를 해야 할 수 있기 때문에\n빌드된 결과물을 s3에 올려두고 cloudFront에서 서빙하는 것이 더 빠른 개발과 배포에 좋을 듯 하다. 실제로 위에 언급한 방식을 간단히 그림을 그려 보면 다음과 같다.\n\n![nginx-react-prerender](/static/images/first-react-ssr-diagram.png)\n\n\u0026nbsp; 실제 infra까지 구성한 것은 아니지만, client와 server를 나누어서 직접 로컬에서 간단히 작동하는 수준까지만 작업해보았다.\n연습 삼아 작성해본 코드는 위에 링크 혹은 이 [repository](https://github.com/seonghyeonkimm/nginx-react-prerender)에서 확인할 수 있다. client라는 폴더에는\n그냥 create-react-app과 react-router-dom을 활용한 간단히 테스트를 위해 필요한 react SPA를 구성했다. 그리고 server폴더에는 puppeteer를 사용해서\n직접 해당 path에 대한 html을 chrome에서 동작시켜서 `window.prerenderReady`라는 전역변수가 `true`가 되는 시점에 html content를 bot에게 return하는\nexpress서버 코드와 bot을 판별해 index.html을 그냥 내려줄 지 아니면 express server로 보낼 지 판단하는 간단한 `nginx.conf`가 있다.\n\n## 스스로 생각해보는 장단점 및 결론\n\n\u0026nbsp; next.js를 사용하다가 문제가 있어서 다른 방식을 고안했다는 사실이 next.js가 SSR을 하기에 부적절했다기보다 부끄럽지만 제대로 사용하지 못했던 것이라 생각한다.\n커뮤니티는 점점 더 활발해지고 심지어 next.js는 진짜 빨리 업데이트가 된다. 그래서 개인적으로 좋아하는 편이다. 결국 내가 문제였던 것으로.\n다시 next.js를 사용한다면 cache를 조금 더 세심하게 다룬다면 더 안정성있게 구현할 수 있지 않을까 아쉬움이 남기도 한다.\n무엇이든 유일한 답이란 없고 자신이 풀어야 하는 문제에 가장 합리적인 방법을 선택해야하는 것 뿐이지만. 마지막으로 nginx를 활용한 SSR하는 방법에 대한 장단점을 간단히 정리해보았다.\n\n#### 장점\n\n- SPA를 개발하지만 SSR의 모든 장점을 같이 가져갈 수 있다.\n- 어차피 bot에 대한 요청에만 실행되기 때문에 response time에 대해서 실제 유저가 사용할 때만큼 신경쓰지 않아도 된다. 그래서, 마음껏 SEO를 신경쓰면서 SSR을 할 수 있다. 모든 API가 끝난 결과를 cache하면 된다. (하지만, 요즘은 사실 검색엔진이 crawling을 알아서 잘 해준다.)\n- bot에 대한 요청에만 cache를 하기 때문에 cache의 조건이 사용자의 언어 정도까지만 생각하면 된다. (nextjs의 결과를 cache한다고하면 언어, 사용하는 기기, 로그인 여부 등등이 포함될 수 있는 가능성이 있다.)\n- S3에만 파일을 업로드하면 되기때문에 배포가 빠르다.\n\n#### 단점\n\n- 조금 더 단순하긴 하지만, 역시나 nginx와 express가 떠 있을 instance, 캐시를 위한 redis, 많아질 traffic에 대비할 오토스케일링 등 infra관리가 필요하다.\n\n\u0026nbsp; 마지막으로 회사에서는 이 구성에 대해서 다른 동료 분이 구현해주셔서 직접 구현하지 않았지만 구현하시는 모습을 보면서 공부하는 마음으로\n직접 구현을 해봐야 겠다는 마음을 들게 만들어 주시고 항상 좋은 조언과 에너지를 나눠 주시는 동료 분에게 감사한 마음을 전한다.\n\n## 참고한 글\n\n- https://developers.google.com/web/tools/puppeteer/articles/ssr\n- https://github.com/prerender/prerender\n","code":"var Component=(()=\u003e{var h=Object.create;var c=Object.defineProperty;var a=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty;var s=n=\u003ec(n,\"__esModule\",{value:!0});var u=(n,i)=\u003e()=\u003e(i||n((i={exports:{}}).exports,i),i.exports),g=(n,i)=\u003e{s(n);for(var t in i)c(n,t,{get:i[t],enumerable:!0})},f=(n,i,t)=\u003e{if(i\u0026\u0026typeof i==\"object\"||typeof i==\"function\")for(let r of p(i))!x.call(n,r)\u0026\u0026r!==\"default\"\u0026\u0026c(n,r,{get:()=\u003ei[r],enumerable:!(t=a(i,r))||t.enumerable});return n},b=n=\u003ef(s(c(n!=null?h(m(n)):{},\"default\",n\u0026\u0026n.__esModule\u0026\u0026\"default\"in n?{get:()=\u003en.default,enumerable:!0}:{value:n,enumerable:!0})),n);var o=u((w,l)=\u003e{l.exports=_jsx_runtime});var R={};g(R,{default:()=\u003ek,frontmatter:()=\u003eS});var e=b(o()),S={title:\"React SSR\\uD558\\uB294 \\uC138 \\uAC00\\uC9C0 \\uBC29\\uBC95 (1)\",date:\"2020-01-07\",tags:[\"react\",\"ssr\",\"nginx\",\"prerender\"],draft:!1,summary:\"React SSR\\uC744 \\uC5B4\\uB5BB\\uAC8C \\uD558\\uB294 \\uAC83\\uC774 \\uAC00\\uC7A5 \\uD569\\uB9AC\\uC801\\uC77C\\uAE4C. \\uD604\\uC7AC \\uB098\\uC758 \\uC9C0\\uC2DD \\uC548\\uC5D0\\uC11C \\uAC00\\uC7A5 \\uD569\\uB9AC\\uC801\\uC774\\uB77C\\uACE0 \\uC0DD\\uAC01\\uD558\\uB294 \\uCD1D 3\\uAC00\\uC9C0 \\uC911 \\uCCAB \\uBC88\\uC9F8\\uC5D0 \\uB300\\uD55C \\uB0B4\\uC6A9\\uC744 \\uC815\\uB9AC\\uD588\\uB2E4.\"};function j(n={}){let{wrapper:i}=n.components||{};return i?(0,e.jsx)(i,Object.assign({},n,{children:(0,e.jsx)(t,{})})):t();function t(){let r=Object.assign({h2:\"h2\",a:\"a\",span:\"span\",p:\"p\",ul:\"ul\",li:\"li\",code:\"code\",blockquote:\"blockquote\",ol:\"ol\",div:\"div\",h4:\"h4\"},n.components),{Image:d}=r;return d||y(\"Image\",!0,\"39:1-39:69\"),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(r.h2,{id:\"nextjs\\uB97C-\\uC0AC\\uC6A9\\uD574\\uC11C-ssr\\uC744-\\uD558\\uBA74\\uC11C-\\uBD80\\uB52A\\uD78C-\\uBB38\\uC81C-\\uC0C1\\uD669\",children:[(0,e.jsx)(r.a,{href:\"#nextjs\\uB97C-\\uC0AC\\uC6A9\\uD574\\uC11C-ssr\\uC744-\\uD558\\uBA74\\uC11C-\\uBD80\\uB52A\\uD78C-\\uBB38\\uC81C-\\uC0C1\\uD669\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(r.span,{className:\"icon icon-link\"})}),\"Next.js\\uB97C \\uC0AC\\uC6A9\\uD574\\uC11C SSR\\uC744 \\uD558\\uBA74\\uC11C \\uBD80\\uB52A\\uD78C \\uBB38\\uC81C \\uC0C1\\uD669\"]}),(0,e.jsx)(r.p,{children:\"\\xA0 \\uCD5C\\uADFC\\uC5D0 \\uD68C\\uC0AC\\uC5D0\\uC11C \\uC6F9 \\uAC1C\\uD3B8\\uC744 \\uC2DC\\uC791\\uD558\\uBA74\\uC11C \\uD07C\\uC9C0\\uB9C9\\uD55C \\uAE30\\uC220\\uC758 \\uD2C0\\uC740 \\uB2E4\\uC74C\\uACFC \\uAC19\\uC774 \\uC815\\uD588\\uC5C8\\uB2E4. UI Framework\\uB85C\\uB294 React, Styling\\uC744 \\uC704\\uD574\\uC11C\\uB294 Styled-Component, SSR(Server-side rendering)\\uC744 \\uD558\\uAE30 \\uC704\\uD558\\uC5EC Next.js\\uAE4C\\uC9C0. \\uB2E4\\uB978 \\uB9CE\\uC740 \\uB77C\\uC774\\uBE0C\\uB7EC\\uB9AC\\uB4E4\\uB3C4 \\uC0AC\\uC6A9\\uD588\\uC9C0\\uB9CC \\uC8FC\\uC694 \\uBF08\\uB300\\uB294 \\uC704\\uC640 \\uAC19\\uC774 \\uACB0\\uC815\\uD588\\uACE0, \\uC138\\uD305\\uBD80\\uD130 \\uD398\\uC774\\uC9C0 \\uC791\\uC5C5\\uAE4C\\uC9C0 \\uC5F4\\uC2EC\\uD788 \\uB2EC\\uB838\\uACE0 \\uD558\\uB098\\uC758 \\uD398\\uC774\\uC9C0\\uB97C \\uC704\\uC758 \\uAE30\\uC220\\uB4E4\\uC744 \\uC0AC\\uC6A9\\uD558\\uC5EC \\uC720\\uC800\\uB4E4\\uC5D0\\uAC8C \\uBC30\\uD3EC\\uD588\\uB2E4. \\uCD08\\uBC18\\uC5D0\\uB294 \\uD070 \\uC774\\uC288 \\uC5C6\\uC774 \\uC815\\uCC29\\uD558\\uC5EC \\uB2E4\\uB978 \\uD398\\uC774\\uC9C0\\uB4E4\\uAE4C\\uC9C0 \\uBE60\\uB974\\uAC8C \\uC774 \\uD504\\uB85C\\uC81D\\uD2B8\\uB85C \\uC62E\\uACA8\\uC640\\uC57C\\uC9C0\\uB77C\\uACE0 \\uC0DD\\uAC01\\uD558\\uBA70 \\uC5F4\\uC815\\uC744 \\uBD88\\uD0DC\\uC6B0\\uB358 \\uADF8 \\uC988\\uC74C. \\uBA87\\uBA87 \\uAC00\\uC9C0 \\uBB38\\uC81C\\uB4E4\\uC774 \\uB0B4\\uBD80\\uC801\\uC73C\\uB85C \\uC778\\uC2DD\\uB418\\uC5C8\\uB2E4. \\uADF8 \\uB2F9\\uC2DC\\uC5D0\\uB3C4 \\uC815\\uD655\\uD558\\uAC8C \\uAE00\\uB85C \\uC5B4\\uB5A4 \\uBB38\\uC81C\\uC810\\uC774 \\uC788\\uB2E4\\uB77C\\uACE0 \\uBB38\\uC11C\\uD654\\uB97C \\uD558\\uC9C4 \\uBABB\\uD588\\uC9C0\\uB9CC, \\uC9C0\\uAE08\\uC5D0\\uC11C\\uB77C\\uB3C4 \\uC815\\uB9AC\\uD574\\uBCF4\\uBA74 \\uB2E4\\uC74C\\uACFC \\uAC19\\uC558\\uB2E4.\"}),(0,e.jsxs)(r.ul,{children:[(0,e.jsxs)(r.li,{children:[\"\\uD574\\uC678\\uC5D0\\uC11C \\uC694\\uCCAD\\uC744 \\uD55C\\uB2E4\\uB4E0\\uC9C0 \\uD639\\uC740 \\uD2B9\\uC815 \\uC2DC\\uAC04\\uC5D0 \",(0,e.jsx)(r.code,{children:\"next.js\\uC758 \\uC751\\uB2F5\\uC774 \\uB290\\uB824\\uC9C0\\uB294 \\uC21C\\uAC04\"}),\"\\uC774 \\uC788\\uB2E4.\"]}),(0,e.jsxs)(r.li,{children:[\"\\uADF8\\uB85C \\uC778\\uD558\\uC5EC, \\uC774\\uBCA4\\uD2B8\\uB098 \\uD2B9\\uC815 \\uC774\\uC720 \\uB54C\\uBB38\\uC5D0 traffic\\uC774 \\uAE09\\uC791\\uC2A4\\uB7FD\\uAC8C \\uBAB0\\uB838\\uC744 \\uACBD\\uC6B0 \",(0,e.jsx)(r.code,{children:\"next.js\\uAC00 \\uC798 \\uACAC\\uB38C \\uB0B4\\uC9C0 \\uBABB\\uD560 \\uAC83\\uC774\\uB77C\\uB294 \\uAC71\\uC815\\uB4E4\\uC774 \\uB9CE\\uC558\\uACE0 \\uC2E4\\uC81C\\uB85C \\uAD49\\uC7A5\\uD788 \\uC5F0\\uC57D\"}),\"\\uD588\\uB2E4.\"]}),(0,e.jsxs)(r.li,{children:[\"\\uD558\\uC9C0\\uB9CC, \\uB0B4\\uBD80 \\uC778\\uB825\\uB4E4 \\uC911\\uC5D0\\uC11C\\uB294 \",(0,e.jsx)(r.code,{children:\"node.js \\uC11C\\uBC84\\uC5D0 \\uB300\\uD55C \\uC778\\uD504\\uB77C \\uAD00\\uB9AC\\uC5D0 \\uB300\\uD55C \\uACBD\\uD5D8\\uCE58\\uB97C \\uC77C\\uC815 \\uC218\\uC900 \\uAC00\\uC9C0\\uACE0 \\uC788\\uB294 \\uC0AC\\uB78C\\uC774 \\uC5C6\\uC5C8\\uB2E4.\"})]}),(0,e.jsxs)(r.li,{children:[\"\\uADF8\\uB7EC\\uBBC0\\uB85C, \",(0,e.jsx)(r.code,{children:\"\\uD504\\uB860\\uD2B8\\uC5D4\\uB4DC \\uAD00\\uB828\\uD574\\uC11C\\uB294 infra \\uAD00\\uB9AC\\uB97C \\uCD5C\\uC18C\\uD654\"}),\"\\uD558\\uACE0 \\uC2F6\\uB2E4.\"]})]}),(0,e.jsxs)(r.h2,{id:\"\\uC0C8\\uB85C\\uC6B4-ssr\\uBC29\\uC2DD-\\uC2DC\\uB3C4\",children:[(0,e.jsx)(r.a,{href:\"#\\uC0C8\\uB85C\\uC6B4-ssr\\uBC29\\uC2DD-\\uC2DC\\uB3C4\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(r.span,{className:\"icon icon-link\"})}),\"\\uC0C8\\uB85C\\uC6B4 SSR\\uBC29\\uC2DD \\uC2DC\\uB3C4\"]}),(0,e.jsx)(r.p,{children:\"\\xA0 \\uD558\\uC9C0\\uB9CC, \\uCEE4\\uBA38\\uC2A4\\uB97C \\uD558\\uACE0 \\uC788\\uB294 \\uC785\\uC7A5\\uC5D0\\uC11C \\uBAA8\\uB4E0 \\uD398\\uC774\\uC9C0\\uB97C SPA\\uB85C\\uB9CC \\uAD6C\\uD604\\uD558\\uACE0 \\uADF8\\uAC83\\uC5D0\\uB9CC \\uC758\\uC874\\uD558\\uC790\\uB77C\\uB294 \\uACB0\\uC815\\uC744 \\uD560 \\uC21C \\uC5C6\\uC5C8\\uB2E4. \\uC65C\\uB0D0\\uD558\\uBA74, \\uC694\\uC998\\uC740 \\uC0AC\\uC2E4 \\uADF8\\uB807\\uAC8C \\uD06C\\uAC8C \\uC2E0\\uACBD\\uC4F0\\uC9C0 \\uC54A\\uC544\\uB3C4 \\uAC80\\uC0C9\\uC5D4\\uC9C4\\uB4E4\\uC774 \\uC798 \\uD574\\uC8FC\\uACE0 \\uC788\\uC9C0\\uB9CC SEO\\uB97C \\uCD5C\\uB300\\uD55C \\uBCF4\\uC7A5\\uBC1B\\uACE0 \\uC2F6\\uC5C8\\uB2E4. \\uB450 \\uBC88\\uC9F8\\uB85C\\uB294 \\uB9C8\\uCF00\\uD305\\uC774\\uB098 \\uC678\\uBD80 \\uD50C\\uB7AB\\uD3FC\\uC5D0 \\uACF5\\uC720\\uD588\\uC744 \\uB54C\\uC5D0 SPA\\uCC98\\uB7FC \\uBB34\\uC870\\uAC74 \\uD558\\uB098\\uC758 \\uBA54\\uD0C0 \\uC815\\uBCF4\\uB9CC\\uC744 \\uBCF4\\uC5EC \\uC8FC\\uC5B4\\uC11C\\uB294 \\uC548 \\uB418\\uC5C8\\uB2E4. node \\uC11C\\uBC84\\uB098 infra\\uC5D0 \\uB300\\uD574\\uC11C \\uC5B4\\uB290 \\uC815\\uB3C4 \\uB178\\uD558\\uC6B0\\uB3C4 \\uC870\\uAE08 \\uC0DD\\uAE30\\uACE0 \\uC775\\uC219\\uD574\\uC838 \\uAC08 \\uBB34\\uB835, \\uB9AC\\uC11C\\uCE58\\uC640 \\uD68C\\uC758 \\uB05D\\uC5D0 \\uC774 \\uAE00\\uC5D0\\uC11C \\uC124\\uBA85\\uD560 \\uCCAB \\uBC88\\uC9F8 \\uBC29\\uBC95\\uC73C\\uB85C\\uC758 \\uBCC0\\uD654\\uB97C \\uC2DC\\uB3C4\\uD574\\uBCF4\\uAE30\\uB85C \\uACB0\\uC815\\uD588\\uB2E4. \\uB450 \\uBC88\\uC9F8\\uB098 \\uC138 \\uBC88\\uC9F8\\uB294 \\uC544\\uC9C1 \\uD68C\\uC0AC\\uC5D0\\uC11C\\uB3C4 \\uAC1C\\uC778\\uC801\\uC73C\\uB85C \\uC2DC\\uB3C4\\uD574\\uBCF4\\uC9C4 \\uC54A\\uC558\\uC9C0\\uB9CC \\uCCAB \\uBC88\\uC9F8 \\uBC29\\uBC95\\uC5D0 \\uB300\\uD55C \\uBCF5\\uC2B5\\uC744 \\uC774 \\uAE00\\uACFC \\uD568\\uAED8 \\uC2DC\\uC791 \\uD574\\uBCF4\\uACE0 \\uB450 \\uBC88\\uC9F8, \\uC138 \\uBC88\\uC9F8 \\uBC29\\uBC95\\uB3C4 \\uB098\\uB984 \\uC9C1\\uC811 \\uAD6C\\uD604\\uD574\\uBCF4\\uACE0 \\uB9C8\\uC9C0\\uB9C9\\uC5D0 \\uC5B4\\uB5A4 \\uAC83\\uC774 \\uC2A4\\uC2A4\\uB85C \\uC0DD\\uAC01\\uD588\\uC744 \\uB54C\\uC5D0 \\uD604\\uC7AC\\uB85C\\uC11C \\uAC00\\uC7A5 \\uD569\\uB9AC\\uC801\\uC778 \\uBC29\\uBC95\\uC778\\uAC00\\uC5D0 \\uB300\\uD55C \\uB2F5\\uC744 \\uB0B4\\uB824\\uBCF4\\uACE0\\uC790 \\uD55C\\uB2E4. \\uD604\\uC7AC \\uB098\\uC758 \\uC9C0\\uC2DD \\uC548\\uC5D0\\uC11C \\uAC00\\uC7A5 \\uD569\\uB9AC\\uC801\\uC77C \\uAC70\\uB77C\\uACE0 \\uC0DD\\uAC01\\uD558\\uB294 3\\uAC00\\uC9C0\\uB294 \\uB2E4\\uC74C\\uACFC \\uAC19\\uB2E4.\"}),(0,e.jsx)(r.blockquote,{children:(0,e.jsxs)(r.ol,{children:[(0,e.jsxs)(r.li,{children:[(0,e.jsx)(r.code,{children:\"nginx + react + express (with puppeteer)\"}),\" - \",(0,e.jsx)(r.a,{href:\"https://github.com/seonghyeonkimm/nginx-react-prerender\",children:\"\\uCC38\\uACE0 repository\"}),\" \",(0,e.jsx)(\"br\",{})]}),(0,e.jsxs)(r.li,{children:[\"next.js\\uC758 serverless - \",(0,e.jsx)(r.a,{href:\"https://seonghyeonkimm.github.io/second-react-ssr/\",children:\"\\uBE14\\uB85C\\uADF8 \\uB9C1\\uD06C\"}),\" \",(0,e.jsx)(\"br\",{})]}),(0,e.jsxs)(r.li,{children:[\"(coming soon) cloudFront + lambda@edge \",(0,e.jsx)(\"br\",{})]})]})}),(0,e.jsx)(r.p,{children:\"\\xA0 \\uC989, \\uCCAB \\uBC88\\uC9F8 \\uBC29\\uC2DD\\uC740 nginx\\uAC00 \\uC694\\uCCAD\\uC744 \\uBC1B\\uACE0 userAgent\\uB97C \\uD1B5\\uD574\\uC11C request\\uAC00 bot\\uC5D0 \\uC758\\uD55C \\uAC83\\uC778\\uC9C0 \\uC544\\uB2CC \\uC9C0\\uC5D0 \\uB530\\uB77C\\uC11C \\uB2E4\\uB978 response\\uB97C \\uD558\\uB294 \\uBC29\\uC2DD\\uC774\\uB2E4. bot\\uC758 \\uC694\\uCCAD\\uC774\\uB77C\\uBA74 puppeteer\\uAC00 \\uBE0C\\uB77C\\uC6B0\\uC800\\uB97C \\uB744\\uC6CC\\uC11C \\uC2E4\\uC81C html\\uC774 \\uB2E4 \\uC644\\uC131\\uB418\\uC5C8\\uC744 \\uC2DC\\uAE30\\uC758 html\\uC744 \\uCE90\\uC2DC\\uD558\\uACE0 \\uBCF4\\uB0B4\\uB3C4\\uB85D \\uB9CC\\uB4E4\\uC5B4 \\uB454 express\\uC11C\\uBC84\\uB85C \\uC694\\uCCAD\\uC744 \\uC804\\uB2EC\\uD558\\uACE0, \\uADF8\\uB807\\uC9C0 \\uC54A\\uC740 \\uACBD\\uC6B0\\uC5D0\\uB294 \\uB85C\\uCEEC \\uBA38\\uC2E0\\uC5D0 \\uAC00\\uC9C0\\uACE0 \\uC788\\uB294 index.html\\uC774\\uB4E0 cloudFront\\uC5D0 \\uC62C\\uB824\\uC838 \\uC788\\uB294 index.html\\uC774\\uB4E0 \\uAC04\\uC5D0 \\uADF8\\uB0E5 index.html\\uD30C\\uC77C\\uC744 \\uB0B4\\uB824 \\uC900\\uB2E4. \\uC791\\uC5C5\\uC744 \\uD558\\uB2E4 \\uBCF4\\uB2C8 \\uACBD\\uD5D8\\uC801\\uC73C\\uB85C \\uB290\\uB080 \\uAC83\\uC740 \\uB85C\\uCEEC \\uBA38\\uC2E0\\uC5D0 \\uC788\\uB294 index.html\\uC744 \\uB0B4\\uB824\\uC8FC\\uAC8C \\uB418\\uBA74 \\uBC30\\uD3EC \\uACFC\\uC815\\uC5D0\\uC11C \\uC2E4\\uC81C server \\uCF54\\uB4DC\\uC5D0 \\uB300\\uD55C \\uBC30\\uD3EC\\uAC00 \\uD544\\uC694 \\uC5C6\\uB294 \\uACBD\\uC6B0\\uC5D0\\uB3C4 \\uBC30\\uD3EC\\uB97C \\uD574\\uC57C \\uD560 \\uC218 \\uC788\\uAE30 \\uB54C\\uBB38\\uC5D0 \\uBE4C\\uB4DC\\uB41C \\uACB0\\uACFC\\uBB3C\\uC744 s3\\uC5D0 \\uC62C\\uB824\\uB450\\uACE0 cloudFront\\uC5D0\\uC11C \\uC11C\\uBE59\\uD558\\uB294 \\uAC83\\uC774 \\uB354 \\uBE60\\uB978 \\uAC1C\\uBC1C\\uACFC \\uBC30\\uD3EC\\uC5D0 \\uC88B\\uC744 \\uB4EF \\uD558\\uB2E4. \\uC2E4\\uC81C\\uB85C \\uC704\\uC5D0 \\uC5B8\\uAE09\\uD55C \\uBC29\\uC2DD\\uC744 \\uAC04\\uB2E8\\uD788 \\uADF8\\uB9BC\\uC744 \\uADF8\\uB824 \\uBCF4\\uBA74 \\uB2E4\\uC74C\\uACFC \\uAC19\\uB2E4.\"}),(0,e.jsx)(r.div,{children:(0,e.jsx)(d,{alt:\"nginx-react-prerender\",src:\"/static/images/first-react-ssr-diagram.png\",width:\"1157\",height:\"483\"})}),(0,e.jsxs)(r.p,{children:[\"\\xA0 \\uC2E4\\uC81C infra\\uAE4C\\uC9C0 \\uAD6C\\uC131\\uD55C \\uAC83\\uC740 \\uC544\\uB2C8\\uC9C0\\uB9CC, client\\uC640 server\\uB97C \\uB098\\uB204\\uC5B4\\uC11C \\uC9C1\\uC811 \\uB85C\\uCEEC\\uC5D0\\uC11C \\uAC04\\uB2E8\\uD788 \\uC791\\uB3D9\\uD558\\uB294 \\uC218\\uC900\\uAE4C\\uC9C0\\uB9CC \\uC791\\uC5C5\\uD574\\uBCF4\\uC558\\uB2E4. \\uC5F0\\uC2B5 \\uC0BC\\uC544 \\uC791\\uC131\\uD574\\uBCF8 \\uCF54\\uB4DC\\uB294 \\uC704\\uC5D0 \\uB9C1\\uD06C \\uD639\\uC740 \\uC774 \",(0,e.jsx)(r.a,{href:\"https://github.com/seonghyeonkimm/nginx-react-prerender\",children:\"repository\"}),\"\\uC5D0\\uC11C \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uB2E4. client\\uB77C\\uB294 \\uD3F4\\uB354\\uC5D0\\uB294 \\uADF8\\uB0E5 create-react-app\\uACFC react-router-dom\\uC744 \\uD65C\\uC6A9\\uD55C \\uAC04\\uB2E8\\uD788 \\uD14C\\uC2A4\\uD2B8\\uB97C \\uC704\\uD574 \\uD544\\uC694\\uD55C react SPA\\uB97C \\uAD6C\\uC131\\uD588\\uB2E4. \\uADF8\\uB9AC\\uACE0 server\\uD3F4\\uB354\\uC5D0\\uB294 puppeteer\\uB97C \\uC0AC\\uC6A9\\uD574\\uC11C \\uC9C1\\uC811 \\uD574\\uB2F9 path\\uC5D0 \\uB300\\uD55C html\\uC744 chrome\\uC5D0\\uC11C \\uB3D9\\uC791\\uC2DC\\uCF1C\\uC11C \",(0,e.jsx)(r.code,{children:\"window.prerenderReady\"}),\"\\uB77C\\uB294 \\uC804\\uC5ED\\uBCC0\\uC218\\uAC00 \",(0,e.jsx)(r.code,{children:\"true\"}),\"\\uAC00 \\uB418\\uB294 \\uC2DC\\uC810\\uC5D0 html content\\uB97C bot\\uC5D0\\uAC8C return\\uD558\\uB294 express\\uC11C\\uBC84 \\uCF54\\uB4DC\\uC640 bot\\uC744 \\uD310\\uBCC4\\uD574 index.html\\uC744 \\uADF8\\uB0E5 \\uB0B4\\uB824\\uC904 \\uC9C0 \\uC544\\uB2C8\\uBA74 express server\\uB85C \\uBCF4\\uB0BC \\uC9C0 \\uD310\\uB2E8\\uD558\\uB294 \\uAC04\\uB2E8\\uD55C \",(0,e.jsx)(r.code,{children:\"nginx.conf\"}),\"\\uAC00 \\uC788\\uB2E4.\"]}),(0,e.jsxs)(r.h2,{id:\"\\uC2A4\\uC2A4\\uB85C-\\uC0DD\\uAC01\\uD574\\uBCF4\\uB294-\\uC7A5\\uB2E8\\uC810-\\uBC0F-\\uACB0\\uB860\",children:[(0,e.jsx)(r.a,{href:\"#\\uC2A4\\uC2A4\\uB85C-\\uC0DD\\uAC01\\uD574\\uBCF4\\uB294-\\uC7A5\\uB2E8\\uC810-\\uBC0F-\\uACB0\\uB860\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(r.span,{className:\"icon icon-link\"})}),\"\\uC2A4\\uC2A4\\uB85C \\uC0DD\\uAC01\\uD574\\uBCF4\\uB294 \\uC7A5\\uB2E8\\uC810 \\uBC0F \\uACB0\\uB860\"]}),(0,e.jsx)(r.p,{children:\"\\xA0 next.js\\uB97C \\uC0AC\\uC6A9\\uD558\\uB2E4\\uAC00 \\uBB38\\uC81C\\uAC00 \\uC788\\uC5B4\\uC11C \\uB2E4\\uB978 \\uBC29\\uC2DD\\uC744 \\uACE0\\uC548\\uD588\\uB2E4\\uB294 \\uC0AC\\uC2E4\\uC774 next.js\\uAC00 SSR\\uC744 \\uD558\\uAE30\\uC5D0 \\uBD80\\uC801\\uC808\\uD588\\uB2E4\\uAE30\\uBCF4\\uB2E4 \\uBD80\\uB044\\uB7FD\\uC9C0\\uB9CC \\uC81C\\uB300\\uB85C \\uC0AC\\uC6A9\\uD558\\uC9C0 \\uBABB\\uD588\\uB358 \\uAC83\\uC774\\uB77C \\uC0DD\\uAC01\\uD55C\\uB2E4. \\uCEE4\\uBBA4\\uB2C8\\uD2F0\\uB294 \\uC810\\uC810 \\uB354 \\uD65C\\uBC1C\\uD574\\uC9C0\\uACE0 \\uC2EC\\uC9C0\\uC5B4 next.js\\uB294 \\uC9C4\\uC9DC \\uBE68\\uB9AC \\uC5C5\\uB370\\uC774\\uD2B8\\uAC00 \\uB41C\\uB2E4. \\uADF8\\uB798\\uC11C \\uAC1C\\uC778\\uC801\\uC73C\\uB85C \\uC88B\\uC544\\uD558\\uB294 \\uD3B8\\uC774\\uB2E4. \\uACB0\\uAD6D \\uB0B4\\uAC00 \\uBB38\\uC81C\\uC600\\uB358 \\uAC83\\uC73C\\uB85C. \\uB2E4\\uC2DC next.js\\uB97C \\uC0AC\\uC6A9\\uD55C\\uB2E4\\uBA74 cache\\uB97C \\uC870\\uAE08 \\uB354 \\uC138\\uC2EC\\uD558\\uAC8C \\uB2E4\\uB8EC\\uB2E4\\uBA74 \\uB354 \\uC548\\uC815\\uC131\\uC788\\uAC8C \\uAD6C\\uD604\\uD560 \\uC218 \\uC788\\uC9C0 \\uC54A\\uC744\\uAE4C \\uC544\\uC26C\\uC6C0\\uC774 \\uB0A8\\uAE30\\uB3C4 \\uD55C\\uB2E4. \\uBB34\\uC5C7\\uC774\\uB4E0 \\uC720\\uC77C\\uD55C \\uB2F5\\uC774\\uB780 \\uC5C6\\uACE0 \\uC790\\uC2E0\\uC774 \\uD480\\uC5B4\\uC57C \\uD558\\uB294 \\uBB38\\uC81C\\uC5D0 \\uAC00\\uC7A5 \\uD569\\uB9AC\\uC801\\uC778 \\uBC29\\uBC95\\uC744 \\uC120\\uD0DD\\uD574\\uC57C\\uD558\\uB294 \\uAC83 \\uBFD0\\uC774\\uC9C0\\uB9CC. \\uB9C8\\uC9C0\\uB9C9\\uC73C\\uB85C nginx\\uB97C \\uD65C\\uC6A9\\uD55C SSR\\uD558\\uB294 \\uBC29\\uBC95\\uC5D0 \\uB300\\uD55C \\uC7A5\\uB2E8\\uC810\\uC744 \\uAC04\\uB2E8\\uD788 \\uC815\\uB9AC\\uD574\\uBCF4\\uC558\\uB2E4.\"}),(0,e.jsxs)(r.h4,{id:\"\\uC7A5\\uC810\",children:[(0,e.jsx)(r.a,{href:\"#\\uC7A5\\uC810\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(r.span,{className:\"icon icon-link\"})}),\"\\uC7A5\\uC810\"]}),(0,e.jsxs)(r.ul,{children:[(0,e.jsx)(r.li,{children:\"SPA\\uB97C \\uAC1C\\uBC1C\\uD558\\uC9C0\\uB9CC SSR\\uC758 \\uBAA8\\uB4E0 \\uC7A5\\uC810\\uC744 \\uAC19\\uC774 \\uAC00\\uC838\\uAC08 \\uC218 \\uC788\\uB2E4.\"}),(0,e.jsx)(r.li,{children:\"\\uC5B4\\uCC28\\uD53C bot\\uC5D0 \\uB300\\uD55C \\uC694\\uCCAD\\uC5D0\\uB9CC \\uC2E4\\uD589\\uB418\\uAE30 \\uB54C\\uBB38\\uC5D0 response time\\uC5D0 \\uB300\\uD574\\uC11C \\uC2E4\\uC81C \\uC720\\uC800\\uAC00 \\uC0AC\\uC6A9\\uD560 \\uB54C\\uB9CC\\uD07C \\uC2E0\\uACBD\\uC4F0\\uC9C0 \\uC54A\\uC544\\uB3C4 \\uB41C\\uB2E4. \\uADF8\\uB798\\uC11C, \\uB9C8\\uC74C\\uAECF SEO\\uB97C \\uC2E0\\uACBD\\uC4F0\\uBA74\\uC11C SSR\\uC744 \\uD560 \\uC218 \\uC788\\uB2E4. \\uBAA8\\uB4E0 API\\uAC00 \\uB05D\\uB09C \\uACB0\\uACFC\\uB97C cache\\uD558\\uBA74 \\uB41C\\uB2E4. (\\uD558\\uC9C0\\uB9CC, \\uC694\\uC998\\uC740 \\uC0AC\\uC2E4 \\uAC80\\uC0C9\\uC5D4\\uC9C4\\uC774 crawling\\uC744 \\uC54C\\uC544\\uC11C \\uC798 \\uD574\\uC900\\uB2E4.)\"}),(0,e.jsx)(r.li,{children:\"bot\\uC5D0 \\uB300\\uD55C \\uC694\\uCCAD\\uC5D0\\uB9CC cache\\uB97C \\uD558\\uAE30 \\uB54C\\uBB38\\uC5D0 cache\\uC758 \\uC870\\uAC74\\uC774 \\uC0AC\\uC6A9\\uC790\\uC758 \\uC5B8\\uC5B4 \\uC815\\uB3C4\\uAE4C\\uC9C0\\uB9CC \\uC0DD\\uAC01\\uD558\\uBA74 \\uB41C\\uB2E4. (nextjs\\uC758 \\uACB0\\uACFC\\uB97C cache\\uD55C\\uB2E4\\uACE0\\uD558\\uBA74 \\uC5B8\\uC5B4, \\uC0AC\\uC6A9\\uD558\\uB294 \\uAE30\\uAE30, \\uB85C\\uADF8\\uC778 \\uC5EC\\uBD80 \\uB4F1\\uB4F1\\uC774 \\uD3EC\\uD568\\uB420 \\uC218 \\uC788\\uB294 \\uAC00\\uB2A5\\uC131\\uC774 \\uC788\\uB2E4.)\"}),(0,e.jsx)(r.li,{children:\"S3\\uC5D0\\uB9CC \\uD30C\\uC77C\\uC744 \\uC5C5\\uB85C\\uB4DC\\uD558\\uBA74 \\uB418\\uAE30\\uB54C\\uBB38\\uC5D0 \\uBC30\\uD3EC\\uAC00 \\uBE60\\uB974\\uB2E4.\"})]}),(0,e.jsxs)(r.h4,{id:\"\\uB2E8\\uC810\",children:[(0,e.jsx)(r.a,{href:\"#\\uB2E8\\uC810\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(r.span,{className:\"icon icon-link\"})}),\"\\uB2E8\\uC810\"]}),(0,e.jsx)(r.ul,{children:(0,e.jsx)(r.li,{children:\"\\uC870\\uAE08 \\uB354 \\uB2E8\\uC21C\\uD558\\uAE34 \\uD558\\uC9C0\\uB9CC, \\uC5ED\\uC2DC\\uB098 nginx\\uC640 express\\uAC00 \\uB5A0 \\uC788\\uC744 instance, \\uCE90\\uC2DC\\uB97C \\uC704\\uD55C redis, \\uB9CE\\uC544\\uC9C8 traffic\\uC5D0 \\uB300\\uBE44\\uD560 \\uC624\\uD1A0\\uC2A4\\uCF00\\uC77C\\uB9C1 \\uB4F1 infra\\uAD00\\uB9AC\\uAC00 \\uD544\\uC694\\uD558\\uB2E4.\"})}),(0,e.jsx)(r.p,{children:\"\\xA0 \\uB9C8\\uC9C0\\uB9C9\\uC73C\\uB85C \\uD68C\\uC0AC\\uC5D0\\uC11C\\uB294 \\uC774 \\uAD6C\\uC131\\uC5D0 \\uB300\\uD574\\uC11C \\uB2E4\\uB978 \\uB3D9\\uB8CC \\uBD84\\uC774 \\uAD6C\\uD604\\uD574\\uC8FC\\uC154\\uC11C \\uC9C1\\uC811 \\uAD6C\\uD604\\uD558\\uC9C0 \\uC54A\\uC558\\uC9C0\\uB9CC \\uAD6C\\uD604\\uD558\\uC2DC\\uB294 \\uBAA8\\uC2B5\\uC744 \\uBCF4\\uBA74\\uC11C \\uACF5\\uBD80\\uD558\\uB294 \\uB9C8\\uC74C\\uC73C\\uB85C \\uC9C1\\uC811 \\uAD6C\\uD604\\uC744 \\uD574\\uBD10\\uC57C \\uACA0\\uB2E4\\uB294 \\uB9C8\\uC74C\\uC744 \\uB4E4\\uAC8C \\uB9CC\\uB4E4\\uC5B4 \\uC8FC\\uC2DC\\uACE0 \\uD56D\\uC0C1 \\uC88B\\uC740 \\uC870\\uC5B8\\uACFC \\uC5D0\\uB108\\uC9C0\\uB97C \\uB098\\uB220 \\uC8FC\\uC2DC\\uB294 \\uB3D9\\uB8CC \\uBD84\\uC5D0\\uAC8C \\uAC10\\uC0AC\\uD55C \\uB9C8\\uC74C\\uC744 \\uC804\\uD55C\\uB2E4.\"}),(0,e.jsxs)(r.h2,{id:\"\\uCC38\\uACE0\\uD55C-\\uAE00\",children:[(0,e.jsx)(r.a,{href:\"#\\uCC38\\uACE0\\uD55C-\\uAE00\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(r.span,{className:\"icon icon-link\"})}),\"\\uCC38\\uACE0\\uD55C \\uAE00\"]}),(0,e.jsxs)(r.ul,{children:[(0,e.jsx)(r.li,{children:(0,e.jsx)(r.a,{href:\"https://developers.google.com/web/tools/puppeteer/articles/ssr\",children:\"https://developers.google.com/web/tools/puppeteer/articles/ssr\"})}),(0,e.jsx)(r.li,{children:(0,e.jsx)(r.a,{href:\"https://github.com/prerender/prerender\",children:\"https://github.com/prerender/prerender\"})})]})]})}}var k=j;function y(n,i,t){throw new Error(\"Expected \"+(i?\"component\":\"object\")+\" `\"+n+\"` to be defined: you likely forgot to import, pass, or provide it.\"+(t?\"\\nIt\\u2019s referenced in your code at `\"+t+\"` in `/Users/roger/workspace/seonghyeonkimm.github.io/_mdx_bundler_entry_point-701f9493-f330-4926-9a6d-351e8d1a6cb7.mdx`\":\"\"))}return R;})();\n;return Component;"},"_id":"blog/first-react-ssr.mdx","_raw":{"sourceFilePath":"blog/first-react-ssr.mdx","sourceFileName":"first-react-ssr.mdx","sourceFileDir":"blog","contentType":"mdx","flattenedPath":"blog/first-react-ssr"},"type":"Blog","readingTime":{"text":"4 min read","minutes":3.64,"time":218400,"words":728},"slug":"first-react-ssr","toc":[{"value":"Next.js를 사용해서 SSR을 하면서 부딪힌 문제 상황","url":"#nextjs를-사용해서-ssr을-하면서-부딪힌-문제-상황","depth":2},{"value":"새로운 SSR방식 시도","url":"#새로운-ssr방식-시도","depth":2},{"value":"스스로 생각해보는 장단점 및 결론","url":"#스스로-생각해보는-장단점-및-결론","depth":2},{"value":"장점","url":"#장점","depth":4},{"value":"단점","url":"#단점","depth":4},{"value":"참고한 글","url":"#참고한-글","depth":2}]},"authorDetails":[{}],"prev":{"title":"내가 꿈꾸는 '파워풀'한 팀의 모습","date":"2019-12-28T00:00:00.000Z","tags":["netflix","culture","team","powerful"],"draft":false,"summary":"넷플릭스의 문화에 대한 책인 '파워풀'을 읽으면서 눈에 들어 왔던 표현을 기반으로 내가 꿈꾸는 '파워풀'한 팀의 모습 몇 가지를 생각 해 보았다.","type":"Blog","readingTime":{"text":"6 min read","minutes":5.305,"time":318300,"words":1061},"slug":"i-am-not-powerfull","toc":[{"value":"TL;DR","url":"#tldr","depth":3},{"value":"솔직해지는 용기를 지닌 사람이 되자","url":"#솔직해지는-용기를-지닌-사람이-되자","depth":2},{"value":"사실과 데이터에 기반한 커뮤니케이션을 하자","url":"#사실과-데이터에-기반한-커뮤니케이션을-하자","depth":2},{"value":"회사에 대한 충분한 정보를 동기화하려는 노력을 하자","url":"#회사에-대한-충분한-정보를-동기화하려는-노력을-하자","depth":2},{"value":"정기적인 소통의 자리를 가지자","url":"#정기적인-소통의-자리를-가지자","depth":2}]},"next":{"title":"React SSR하는 세 가지 방법 (2)","date":"2020-01-14T00:00:00.000Z","tags":["react","ssr","serverless"],"draft":false,"summary":"React SSR하는 두 번째 방법으로 next.js, serverless-next.js를 활용해서 구현을 해보았다.","type":"Blog","readingTime":{"text":"4 min read","minutes":3.535,"time":212100,"words":707},"slug":"second-react-ssr","toc":[{"value":"처음 생각했던 구현 방향","url":"#처음-생각했던-구현-방향","depth":2},{"value":"실습한 결과물 공유 및 느낀 점","url":"#실습한-결과물-공유-및-느낀-점","depth":2},{"value":"스스로 생각해보는 장단점 및 결론","url":"#스스로-생각해보는-장단점-및-결론","depth":2},{"value":"장점","url":"#장점","depth":4},{"value":"단점","url":"#단점","depth":4},{"value":"참고한 글","url":"#참고한-글","depth":2}]}},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["first-react-ssr"]},"buildId":"6Krvmak2ov-qcCHuSyM4j","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>